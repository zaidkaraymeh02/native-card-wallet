{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":118,"column":0,"index":3225}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"../core/AnimatedClock","data":{"asyncType":null,"locs":[{"start":{"line":11,"column":0,"index":112},"end":{"line":11,"column":42,"index":154}}],"key":"TqEC7l7txRNKuLNO7x+qfdyriJA="}},{"name":"../derived/evaluateOnce","data":{"asyncType":null,"locs":[{"start":{"line":12,"column":0,"index":155},"end":{"line":12,"column":55,"index":210}},{"start":{"line":12,"column":0,"index":155},"end":{"line":12,"column":55,"index":210}}],"key":"bSowsAq1Ng9ejt3d0QNNwDCJJL0="}},{"name":"../base","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":10,"column":17,"index":111}},{"start":{"line":1,"column":0,"index":0},"end":{"line":10,"column":17,"index":111}},{"start":{"line":1,"column":0,"index":0},"end":{"line":10,"column":17,"index":111}},{"start":{"line":1,"column":0,"index":0},"end":{"line":10,"column":17,"index":111}},{"start":{"line":1,"column":0,"index":0},"end":{"line":10,"column":17,"index":111}},{"start":{"line":1,"column":0,"index":0},"end":{"line":10,"column":17,"index":111}},{"start":{"line":1,"column":0,"index":0},"end":{"line":10,"column":17,"index":111}},{"start":{"line":1,"column":0,"index":0},"end":{"line":10,"column":17,"index":111}},{"start":{"line":1,"column":0,"index":0},"end":{"line":10,"column":17,"index":111}},{"start":{"line":1,"column":0,"index":0},"end":{"line":10,"column":17,"index":111}},{"start":{"line":1,"column":0,"index":0},"end":{"line":10,"column":17,"index":111}}],"key":"AtuUvSinYmn6DuSpemc2hb6pTbk="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = backwardsCompatibleAnimWrapper;\n  var _AnimatedClock = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"../core/AnimatedClock\"));\n  function createOldAnimationObject(node, animationStateDefaults, value, config) {\n    var newClock = new _AnimatedClock.default();\n    var currentState = animationStateDefaults();\n    var alwaysNode;\n    var isStarted = false;\n    var isDone = false;\n    var wasStopped = false;\n    var animationCallback;\n    var animation = {\n      start: function start(currentAnimationCallback) {\n        animationCallback = currentAnimationCallback;\n        if (isStarted) {\n          animationCallback && animationCallback({\n            finished: false\n          });\n          return;\n        }\n        if (isDone) {\n          console.warn('Animation has been finished before');\n          // inconsistent with React Native\n          return;\n        }\n        if (!value.isNativelyInitialized()) {\n          return;\n        }\n        isStarted = true;\n        (0, _$$_REQUIRE(_dependencyMap[2], \"../derived/evaluateOnce\").evaluateOnce)((0, _$$_REQUIRE(_dependencyMap[3], \"../base\").set)(currentState.position, value), currentState.position, function () {\n          alwaysNode = (0, _$$_REQUIRE(_dependencyMap[3], \"../base\").always)((0, _$$_REQUIRE(_dependencyMap[3], \"../base\").set)(value, (0, _$$_REQUIRE(_dependencyMap[3], \"../base\").block)([(0, _$$_REQUIRE(_dependencyMap[3], \"../base\").cond)((0, _$$_REQUIRE(_dependencyMap[3], \"../base\").clockRunning)(newClock), 0, (0, _$$_REQUIRE(_dependencyMap[3], \"../base\").startClock)(newClock)), node(newClock, currentState, config), (0, _$$_REQUIRE(_dependencyMap[3], \"../base\").cond)(currentState.finished, [(0, _$$_REQUIRE(_dependencyMap[3], \"../base\").call)([], function () {\n            isStarted = false;\n            if (!wasStopped) {\n              isDone = true;\n            }\n            value.__detachAnimation(animation);\n            isDone = true;\n            if (!wasStopped) {\n              wasStopped = false;\n            }\n          }), (0, _$$_REQUIRE(_dependencyMap[3], \"../base\").stopClock)(newClock)]), currentState.position])));\n          value.__attachAnimation(animation);\n          alwaysNode.__addChild(value);\n        });\n      },\n      __detach: function __detach() {\n        animationCallback && animationCallback({\n          finished: isDone\n        });\n        animationCallback = null;\n        value.__initialized && alwaysNode.__removeChild(value);\n      },\n      stop: function stop() {\n        if (isDone) {\n          console.warn('Calling stop has no effect as the animation has already completed');\n          return;\n        }\n        if (!isStarted) {\n          console.warn(\"Calling stop has no effect as the animation hasn't been started\");\n          return;\n        }\n        wasStopped = true;\n        (0, _$$_REQUIRE(_dependencyMap[2], \"../derived/evaluateOnce\").evaluateOnce)((0, _$$_REQUIRE(_dependencyMap[3], \"../base\").set)(currentState.finished, 1), currentState.finished);\n      },\n      __stopImmediately_testOnly: function __stopImmediately_testOnly(result) {\n        animation.stop();\n        isDone = result;\n        value.__detachAnimation(animation);\n      }\n    };\n    return animation;\n  }\n\n  /**\n   * Depending on the arguments list we either return animation node or return an\n   * animation object that is compatible with the original Animated API\n   */\n  function backwardsCompatibleAnimWrapper(node, animationStateDefaults) {\n    return function (clock, state, config) {\n      if (config !== undefined) {\n        return node(clock, state, config);\n      }\n      return createOldAnimationObject(node, animationStateDefaults, clock, state);\n    };\n  }\n});","lineCount":90,"map":[[7,2,11,0],[7,6,11,0,"_AnimatedClock"],[7,20,11,0],[7,23,11,0,"_interopRequireDefault"],[7,45,11,0],[7,46,11,0,"_$$_REQUIRE"],[7,57,11,0],[7,58,11,0,"_dependencyMap"],[7,72,11,0],[8,2,14,0],[8,11,14,9,"createOldAnimationObject"],[8,35,14,33,"createOldAnimationObject"],[8,36,14,34,"node"],[8,40,14,38],[8,42,14,40,"animationStateDefaults"],[8,64,14,62],[8,66,14,64,"value"],[8,71,14,69],[8,73,14,71,"config"],[8,79,14,77],[8,81,14,79],[9,4,15,2],[9,8,15,8,"newClock"],[9,16,15,16],[9,19,15,19],[9,23,15,23,"Clock"],[9,45,15,28],[9,46,15,29],[9,47,15,30],[10,4,16,2],[10,8,16,8,"currentState"],[10,20,16,20],[10,23,16,23,"animationStateDefaults"],[10,45,16,45],[10,46,16,46],[10,47,16,47],[11,4,17,2],[11,8,17,6,"alwaysNode"],[11,18,17,16],[12,4,18,2],[12,8,18,6,"isStarted"],[12,17,18,15],[12,20,18,18],[12,25,18,23],[13,4,19,2],[13,8,19,6,"isDone"],[13,14,19,12],[13,17,19,15],[13,22,19,20],[14,4,20,2],[14,8,20,6,"wasStopped"],[14,18,20,16],[14,21,20,19],[14,26,20,24],[15,4,21,2],[15,8,21,6,"animationCallback"],[15,25,21,23],[16,4,22,2],[16,8,22,8,"animation"],[16,17,22,17],[16,20,22,20],[17,6,23,4,"start"],[17,11,23,9],[17,13,23,11],[17,22,23,4,"start"],[17,27,23,9,"start"],[17,28,23,11,"currentAnimationCallback"],[17,52,23,35],[17,54,23,39],[18,8,24,6,"animationCallback"],[18,25,24,23],[18,28,24,26,"currentAnimationCallback"],[18,52,24,50],[19,8,25,6],[19,12,25,10,"isStarted"],[19,21,25,19],[19,23,25,21],[20,10,26,8,"animationCallback"],[20,27,26,25],[20,31,26,29,"animationCallback"],[20,48,26,46],[20,49,26,47],[21,12,26,49,"finished"],[21,20,26,57],[21,22,26,59],[22,10,26,65],[22,11,26,66],[22,12,26,67],[23,10,27,8],[24,8,28,6],[25,8,29,6],[25,12,29,10,"isDone"],[25,18,29,16],[25,20,29,18],[26,10,30,8,"console"],[26,17,30,15],[26,18,30,16,"warn"],[26,22,30,20],[26,23,30,21],[26,59,30,57],[26,60,30,58],[27,10,31,8],[28,10,32,8],[29,8,33,6],[30,8,35,6],[30,12,35,10],[30,13,35,11,"value"],[30,18,35,16],[30,19,35,17,"isNativelyInitialized"],[30,40,35,38],[30,41,35,39],[30,42,35,40],[30,44,35,42],[31,10,36,8],[32,8,37,6],[33,8,39,6,"isStarted"],[33,17,39,15],[33,20,39,18],[33,24,39,22],[34,8,40,6],[34,12,40,6,"evaluateOnce"],[34,42,40,6],[34,43,40,6,"evaluateOnce"],[34,82,40,18],[34,84,41,8],[34,88,41,8,"set"],[34,118,41,8],[34,119,41,8,"set"],[34,133,41,11],[34,135,41,12,"currentState"],[34,147,41,24],[34,148,41,25,"position"],[34,156,41,33],[34,158,41,35,"value"],[34,163,41,40],[34,164,41,41],[34,166,42,8,"currentState"],[34,178,42,20],[34,179,42,21,"position"],[34,187,42,29],[34,189,43,8],[34,201,43,14],[35,10,44,10,"alwaysNode"],[35,20,44,20],[35,23,44,23],[35,27,44,23,"always"],[35,57,44,23],[35,58,44,23,"always"],[35,75,44,29],[35,77,45,12],[35,81,45,12,"set"],[35,111,45,12],[35,112,45,12,"set"],[35,126,45,15],[35,128,46,14,"value"],[35,133,46,19],[35,135,47,14],[35,139,47,14,"block"],[35,169,47,14],[35,170,47,14,"block"],[35,186,47,19],[35,188,47,20],[35,189,48,16],[35,193,48,16,"cond"],[35,223,48,16],[35,224,48,16,"cond"],[35,239,48,20],[35,241,48,21],[35,245,48,21,"clockRunning"],[35,275,48,21],[35,276,48,21,"clockRunning"],[35,299,48,33],[35,301,48,34,"newClock"],[35,309,48,42],[35,310,48,43],[35,312,48,45],[35,313,48,46],[35,315,48,48],[35,319,48,48,"startClock"],[35,349,48,48],[35,350,48,48,"startClock"],[35,371,48,58],[35,373,48,59,"newClock"],[35,381,48,67],[35,382,48,68],[35,383,48,69],[35,385,49,16,"node"],[35,389,49,20],[35,390,49,21,"newClock"],[35,398,49,29],[35,400,49,31,"currentState"],[35,412,49,43],[35,414,49,45,"config"],[35,420,49,51],[35,421,49,52],[35,423,50,16],[35,427,50,16,"cond"],[35,457,50,16],[35,458,50,16,"cond"],[35,473,50,20],[35,475,50,21,"currentState"],[35,487,50,33],[35,488,50,34,"finished"],[35,496,50,42],[35,498,50,44],[35,499,51,18],[35,503,51,18,"call"],[35,533,51,18],[35,534,51,18,"call"],[35,549,51,22],[35,551,51,23],[35,553,51,25],[35,555,51,27],[35,567,51,33],[36,12,52,20,"isStarted"],[36,21,52,29],[36,24,52,32],[36,29,52,37],[37,12,53,20],[37,16,53,24],[37,17,53,25,"wasStopped"],[37,27,53,35],[37,29,53,37],[38,14,54,22,"isDone"],[38,20,54,28],[38,23,54,31],[38,27,54,35],[39,12,55,20],[40,12,56,20,"value"],[40,17,56,25],[40,18,56,26,"__detachAnimation"],[40,35,56,43],[40,36,56,44,"animation"],[40,45,56,53],[40,46,56,54],[41,12,57,20,"isDone"],[41,18,57,26],[41,21,57,29],[41,25,57,33],[42,12,58,20],[42,16,58,24],[42,17,58,25,"wasStopped"],[42,27,58,35],[42,29,58,37],[43,14,59,22,"wasStopped"],[43,24,59,32],[43,27,59,35],[43,32,59,40],[44,12,60,20],[45,10,61,18],[45,11,61,19],[45,12,61,20],[45,14,62,18],[45,18,62,18,"stopClock"],[45,48,62,18],[45,49,62,18,"stopClock"],[45,69,62,27],[45,71,62,28,"newClock"],[45,79,62,36],[45,80,62,37],[45,81,63,17],[45,82,63,18],[45,84,64,16,"currentState"],[45,96,64,28],[45,97,64,29,"position"],[45,105,64,37],[45,106,65,15],[45,107,66,12],[45,108,67,10],[45,109,67,11],[46,10,68,10,"value"],[46,15,68,15],[46,16,68,16,"__attachAnimation"],[46,33,68,33],[46,34,68,34,"animation"],[46,43,68,43],[46,44,68,44],[47,10,69,10,"alwaysNode"],[47,20,69,20],[47,21,69,21,"__addChild"],[47,31,69,31],[47,32,69,32,"value"],[47,37,69,37],[47,38,69,38],[48,8,70,8],[48,9,71,6],[48,10,71,7],[49,6,72,4],[49,7,72,5],[50,6,73,4,"__detach"],[50,14,73,12],[50,16,73,14],[50,25,73,4,"__detach"],[50,33,73,12,"__detach"],[50,34,73,12],[50,36,73,20],[51,8,74,6,"animationCallback"],[51,25,74,23],[51,29,74,27,"animationCallback"],[51,46,74,44],[51,47,74,45],[52,10,74,47,"finished"],[52,18,74,55],[52,20,74,57,"isDone"],[53,8,74,64],[53,9,74,65],[53,10,74,66],[54,8,75,6,"animationCallback"],[54,25,75,23],[54,28,75,26],[54,32,75,30],[55,8,76,6,"value"],[55,13,76,11],[55,14,76,12,"__initialized"],[55,27,76,25],[55,31,76,29,"alwaysNode"],[55,41,76,39],[55,42,76,40,"__removeChild"],[55,55,76,53],[55,56,76,54,"value"],[55,61,76,59],[55,62,76,60],[56,6,77,4],[56,7,77,5],[57,6,78,4,"stop"],[57,10,78,8],[57,12,78,10],[57,21,78,4,"stop"],[57,25,78,8,"stop"],[57,26,78,8],[57,28,78,16],[58,8,79,6],[58,12,79,10,"isDone"],[58,18,79,16],[58,20,79,18],[59,10,80,8,"console"],[59,17,80,15],[59,18,80,16,"warn"],[59,22,80,20],[59,23,81,10],[59,90,82,8],[59,91,82,9],[60,10,83,8],[61,8,84,6],[62,8,85,6],[62,12,85,10],[62,13,85,11,"isStarted"],[62,22,85,20],[62,24,85,22],[63,10,86,8,"console"],[63,17,86,15],[63,18,86,16,"warn"],[63,22,86,20],[63,23,87,10],[63,88,88,8],[63,89,88,9],[64,10,89,8],[65,8,90,6],[66,8,91,6,"wasStopped"],[66,18,91,16],[66,21,91,19],[66,25,91,23],[67,8,92,6],[67,12,92,6,"evaluateOnce"],[67,42,92,6],[67,43,92,6,"evaluateOnce"],[67,82,92,18],[67,84,92,19],[67,88,92,19,"set"],[67,118,92,19],[67,119,92,19,"set"],[67,133,92,22],[67,135,92,23,"currentState"],[67,147,92,35],[67,148,92,36,"finished"],[67,156,92,44],[67,158,92,46],[67,159,92,47],[67,160,92,48],[67,162,92,50,"currentState"],[67,174,92,62],[67,175,92,63,"finished"],[67,183,92,71],[67,184,92,72],[68,6,93,4],[68,7,93,5],[69,6,94,4,"__stopImmediately_testOnly"],[69,32,94,30],[69,34,94,32],[69,43,94,4,"__stopImmediately_testOnly"],[69,69,94,30,"__stopImmediately_testOnly"],[69,70,94,32,"result"],[69,76,94,38],[69,78,94,42],[70,8,95,6,"animation"],[70,17,95,15],[70,18,95,16,"stop"],[70,22,95,20],[70,23,95,21],[70,24,95,22],[71,8,96,6,"isDone"],[71,14,96,12],[71,17,96,15,"result"],[71,23,96,21],[72,8,97,6,"value"],[72,13,97,11],[72,14,97,12,"__detachAnimation"],[72,31,97,29],[72,32,97,30,"animation"],[72,41,97,39],[72,42,97,40],[73,6,98,4],[74,4,99,2],[74,5,99,3],[75,4,100,2],[75,11,100,9,"animation"],[75,20,100,18],[76,2,101,0],[78,2,103,0],[79,0,104,0],[80,0,105,0],[81,0,106,0],[82,2,107,15],[82,11,107,24,"backwardsCompatibleAnimWrapper"],[82,41,107,54,"backwardsCompatibleAnimWrapper"],[82,42,108,2,"node"],[82,46,108,6],[82,48,109,2,"animationStateDefaults"],[82,70,109,24],[82,72,110,2],[83,4,111,2],[83,11,111,9],[83,21,111,10,"clock"],[83,26,111,15],[83,28,111,17,"state"],[83,33,111,22],[83,35,111,24,"config"],[83,41,111,30],[83,43,111,35],[84,6,112,4],[84,10,112,8,"config"],[84,16,112,14],[84,21,112,19,"undefined"],[84,30,112,28],[84,32,112,30],[85,8,113,6],[85,15,113,13,"node"],[85,19,113,17],[85,20,113,18,"clock"],[85,25,113,23],[85,27,113,25,"state"],[85,32,113,30],[85,34,113,32,"config"],[85,40,113,38],[85,41,113,39],[86,6,114,4],[87,6,115,4],[87,13,115,11,"createOldAnimationObject"],[87,37,115,35],[87,38,115,36,"node"],[87,42,115,40],[87,44,115,42,"animationStateDefaults"],[87,66,115,64],[87,68,115,66,"clock"],[87,73,115,71],[87,75,115,73,"state"],[87,80,115,78],[87,81,115,79],[88,4,116,2],[88,5,116,3],[89,2,117,0],[90,0,117,1],[90,3]],"functionMap":{"names":["<global>","createOldAnimationObject","animation.start","evaluateOnce$argument_2","call$argument_1","animation.__detach","animation.stop","animation.__stopImmediately_testOnly","backwardsCompatibleAnimWrapper","<anonymous>"],"mappings":"AAA;ACa;WCS;QCoB;2BCQ;mBDU;SDS;KDE;cIC;KJI;UKC;KLe;gCMC;KNI;CDG;eQM;SCI;GDK;CRC"}},"type":"js/module"}]}