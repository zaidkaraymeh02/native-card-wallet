{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":248,"column":0,"index":7563}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":248,"column":0,"index":7563}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":248,"column":0,"index":7563}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"./ListMetricsAggregator","data":{"asyncType":null,"locs":[{"start":{"line":15,"column":0,"index":293},"end":{"line":15,"column":60,"index":353}}],"key":"B6XNBZp4i+zmTikMWPAwbp+lOt8="}}],"output":[{"data":{"code":"__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),n=t(r(d[2])),l=(t(r(d[3])),(0,s.default)((function t(){(0,n.default)(this,t),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}))),_=[],o=10,h=null,u=(function(){return(0,s.default)((function t(s){(0,n.default)(this,t),this._anyBlankStartTime=null,this._enabled=!1,this._info=new l,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._listMetrics=s,this._enabled=(h||0)>Math.random(),this._resetData()}),[{key:\"activate\",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=g.performance.now())}},{key:\"deactivateAndFlush\",value:function(){if(this._enabled){var t=this._samplesStartTime;if(null!=t)if(this._info.sample_count<o)this._resetData();else{var s=g.performance.now()-t,n=Object.assign({},this._info,{total_time_spent:s});_.forEach((function(t){return t(n)})),this._resetData()}}}},{key:\"computeBlankness\",value:function(t,s,n){if(!this._enabled||0===t.getItemCount(t.data)||s.last<s.first||null==this._samplesStartTime)return 0;var l=n.dOffset,_=n.offset,o=n.velocity,h=n.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(h),this._info.pixels_scrolled+=Math.round(Math.abs(l));var u=Math.round(1e3*Math.abs(o)),f=g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=f-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=f-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,k=s.first,p=this._listMetrics.getCellMetrics(k,t);k<=s.last&&(!p||!p.isMounted);)p=this._listMetrics.getCellMetrics(k,t),k++;p&&k>0&&(c=Math.min(h,Math.max(0,p.offset-_)));for(var y=0,b=s.last,M=this._listMetrics.getCellMetrics(b,t);b>=s.first&&(!M||!M.isMounted);)M=this._listMetrics.getCellMetrics(b,t),b--;if(M&&b<t.getItemCount(t.data)-1){var v=M.offset+M.length;y=Math.min(h,Math.max(0,_+h-v))}var S=Math.round(c+y),T=S/h;return T>0?(this._anyBlankStartTime=f,this._info.any_blank_speed_sum+=u,this._info.any_blank_count++,this._info.pixels_blank+=S,T>.5&&(this._mostlyBlankStartTime=f,this._info.mostly_blank_count++)):(u<.01||Math.abs(l)<1)&&this.deactivateAndFlush(),T}},{key:\"enabled\",value:function(){return this._enabled}},{key:\"_resetData\",value:function(){this._anyBlankStartTime=null,this._info=new l,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}],[{key:\"addListener\",value:function(t){return null===h&&console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.'),_.push(t),{remove:function(){_=_.filter((function(s){return t!==s}))}}}},{key:\"setSampleRate\",value:function(t){h=t}},{key:\"setMinSampleCount\",value:function(t){o=t}}])})();m.exports=u}));","lineCount":1,"map":[[1,29,11,0],[1,42,11,13],[1,46,11,13,"_interopRequireDefault"],[1,48,11,13,"r"],[1,50,11,13,"d"],[1,52,11,13],[1,56,11,13,"_createClass2"],[1,58,11,13,"_interopRequireDefault"],[1,60,11,13,"r"],[1,62,11,13,"d"],[1,64,11,13],[1,69,11,13,"_classCallCheck2"],[1,71,11,13,"_interopRequireDefault"],[1,73,11,13,"r"],[1,75,11,13,"d"],[1,77,11,13],[1,82,19,6,"Info"],[1,85,15,0,"_interopRequireDefault"],[1,87,15,0,"r"],[1,89,15,0,"d"],[1,91,15,0],[1,97,19,10],[1,99,19,10,"_createClass2"],[1,101,19,10,"default"],[1,111,19,10],[1,120,19,10,"Info"],[1,125,19,10],[1,127,19,10,"_classCallCheck2"],[1,129,19,10,"default"],[1,138,19,10,"this"],[1,143,19,10,"Info"],[1,146,19,10,"this"],[1,151,20,2,"any_blank_count"],[1,167,20,28],[1,169,20,29,"this"],[1,174,21,2,"any_blank_ms"],[1,187,21,25],[1,189,21,26,"this"],[1,194,22,2,"any_blank_speed_sum"],[1,214,22,32],[1,216,22,33,"this"],[1,221,23,2,"mostly_blank_count"],[1,240,23,31],[1,242,23,32,"this"],[1,247,24,2,"mostly_blank_ms"],[1,263,24,28],[1,265,24,29,"this"],[1,270,25,2,"pixels_blank"],[1,283,25,25],[1,285,25,26,"this"],[1,290,26,2,"pixels_sampled"],[1,305,26,27],[1,307,26,28,"this"],[1,312,27,2,"pixels_scrolled"],[1,328,27,28],[1,330,27,29,"this"],[1,335,28,2,"total_time_spent"],[1,352,28,29],[1,354,28,30,"this"],[1,359,29,2,"sample_count"],[1,372,29,25],[1,373,29,26],[1,378,34,4,"_listeners"],[1,380,34,40],[1,383,35,4,"_minSampleCount"],[1,385,35,22],[1,388,36,4,"_sampleRate"],[1,390,36,30],[1,395,46,6,"FillRateHelper"],[1,398,46,20],[1,409,81,3],[1,418,81,3,"_createClass2"],[1,420,81,3,"default"],[1,430,77,2],[1,439,77,2,"FillRateHelper"],[1,441,77,14,"listMetrics"],[1,445,77,50],[1,447,77,50,"_classCallCheck2"],[1,449,77,50,"default"],[1,458,77,50,"this"],[1,463,77,50,"FillRateHelper"],[1,466,77,50,"this"],[1,471,47,2,"_anyBlankStartTime"],[1,490,47,32],[1,495,47,36,"this"],[1,500,48,2,"_enabled"],[1,510,48,13],[1,512,48,18,"this"],[1,517,50,2,"_info"],[1,523,50,16],[1,527,50,20,"Info"],[1,529,50,26,"this"],[1,534,51,2,"_mostlyBlankStartTime"],[1,556,51,35],[1,561,51,39,"this"],[1,566,52,2,"_samplesStartTime"],[1,584,52,31],[1,589,78,4,"this"],[1,594,78,9,"_listMetrics"],[1,607,78,24,"listMetrics"],[1,609,79,4,"this"],[1,614,79,9,"_enabled"],[1,624,79,21,"_sampleRate"],[1,627,79,36],[1,630,79,41,"Math"],[1,635,79,46,"random"],[1,644,80,4,"this"],[1,649,80,9,"_resetData"],[1,661,81,2],[1,664,81,3],[1,666,81,3,"key"],[1,670,81,3],[1,681,81,3,"value"],[1,687,83,2],[1,698,84,8,"this"],[1,703,84,13,"_enabled"],[1,713,84,51],[1,719,84,25,"this"],[1,724,84,30,"_samplesStartTime"],[1,744,86,6,"this"],[1,749,86,11,"_samplesStartTime"],[1,767,86,31,"global"],[1,769,86,38,"performance"],[1,781,86,50,"now"],[1,787,88,2],[1,790,88,3],[1,791,88,3,"key"],[1,795,88,3],[1,816,88,3,"value"],[1,822,90,2],[1,833,91,4],[1,836,91,9,"this"],[1,841,91,14,"_enabled"],[1,850,91,4],[1,851,94,4],[1,855,94,10,"start"],[1,857,94,18,"this"],[1,862,94,23,"_samplesStartTime"],[1,880,95,4],[1,883,95,17],[1,889,95,8,"start"],[1,891,100,4],[1,894,100,8,"this"],[1,899,100,13,"_info"],[1,905,100,19,"sample_count"],[1,918,100,34,"_minSampleCount"],[1,920,102,6,"this"],[1,925,102,11,"_resetData"],[1,942,100,4],[1,943,105,4],[1,947,105,10,"total_time_spent"],[1,949,105,29,"global"],[1,951,105,36,"performance"],[1,963,105,48,"now"],[1,969,105,56,"start"],[1,971,106,10,"info"],[1,973,106,19,"Object"],[1,980,106,19,"assign"],[1,987,106,19],[1,990,107,9,"this"],[1,995,107,14,"_info"],[1,1001,107,19],[1,1002,108,6,"total_time_spent"],[1,1023,130,4,"_listeners"],[1,1025,130,15,"forEach"],[1,1034,130,23],[1,1043,130,23,"listener"],[1,1046,130,31],[1,1053,130,35,"listener"],[1,1055,130,44,"info"],[1,1057,130,49],[1,1061,131,4,"this"],[1,1066,131,9,"_resetData"],[1,1078,104,4],[1,1079,93,4],[1,1080,132,2],[1,1083,132,3],[1,1084,132,3,"key"],[1,1088,132,3],[1,1107,132,3,"value"],[1,1113,134,2],[1,1122,135,4,"props"],[1,1124,140,4,"cellsAroundViewport"],[1,1126,145,4,"scrollMetrics"],[1,1129,153,4],[1,1133,154,7,"this"],[1,1138,154,12,"_enabled"],[1,1148,155,41],[1,1152,155,6,"props"],[1,1154,155,12,"getItemCount"],[1,1167,155,25,"props"],[1,1169,155,31,"data"],[1,1176,156,6,"cellsAroundViewport"],[1,1178,156,26,"last"],[1,1183,156,33,"cellsAroundViewport"],[1,1185,156,53,"first"],[1,1192,157,32],[1,1198,157,6,"this"],[1,1203,157,11,"_samplesStartTime"],[1,1221,159,6],[1,1228,159,13],[1,1230,161,4],[1,1234,161,11,"dOffset"],[1,1236,161,55,"scrollMetrics"],[1,1238,161,11,"dOffset"],[1,1246,161,20,"offset"],[1,1248,161,55,"scrollMetrics"],[1,1250,161,20,"offset"],[1,1257,161,28,"velocity"],[1,1259,161,55,"scrollMetrics"],[1,1261,161,28,"velocity"],[1,1270,161,38,"visibleLength"],[1,1272,161,55,"scrollMetrics"],[1,1274,161,38,"visibleLength"],[1,1288,165,4,"this"],[1,1293,165,9,"_info"],[1,1299,165,15,"sample_count"],[1,1314,166,4,"this"],[1,1319,166,9,"_info"],[1,1325,166,15,"pixels_sampled"],[1,1341,166,33,"Math"],[1,1346,166,38,"round"],[1,1352,166,44,"visibleLength"],[1,1355,167,4,"this"],[1,1360,167,9,"_info"],[1,1366,167,15,"pixels_scrolled"],[1,1383,167,34,"Math"],[1,1388,167,39,"round"],[1,1394,167,45,"Math"],[1,1399,167,50,"abs"],[1,1403,167,54,"dOffset"],[1,1407,168,4],[1,1411,168,10,"scrollSpeed"],[1,1413,168,24,"Math"],[1,1418,168,29,"round"],[1,1424,168,56],[1,1428,168,35,"Math"],[1,1433,168,40,"abs"],[1,1437,168,44,"velocity"],[1,1441,171,10,"now"],[1,1443,171,16,"global"],[1,1445,171,23,"performance"],[1,1457,171,35,"now"],[1,1463,172,35],[1,1469,172,8,"this"],[1,1474,172,13,"_anyBlankStartTime"],[1,1495,173,6,"this"],[1,1500,173,11,"_info"],[1,1506,173,17,"any_blank_ms"],[1,1520,173,33,"now"],[1,1522,173,39,"this"],[1,1527,173,44,"_anyBlankStartTime"],[1,1547,175,4,"this"],[1,1552,175,9,"_anyBlankStartTime"],[1,1571,175,30],[1,1576,176,38],[1,1582,176,8,"this"],[1,1587,176,13,"_mostlyBlankStartTime"],[1,1611,177,6,"this"],[1,1616,177,11,"_info"],[1,1622,177,17,"mostly_blank_ms"],[1,1639,177,36,"now"],[1,1641,177,42,"this"],[1,1646,177,47,"_mostlyBlankStartTime"],[1,1669,179,4,"this"],[1,1674,179,9,"_mostlyBlankStartTime"],[1,1696,179,33],[1,1701,184,4],[1,1705,181,4],[1,1709,181,8,"blankTop"],[1,1711,181,19],[1,1713,182,8,"first"],[1,1715,182,16,"cellsAroundViewport"],[1,1717,182,36,"first"],[1,1723,183,8,"firstFrame"],[1,1725,183,21,"this"],[1,1730,183,26,"_listMetrics"],[1,1743,183,39,"getCellMetrics"],[1,1758,183,54,"first"],[1,1760,183,61,"props"],[1,1763,185,6,"first"],[1,1766,185,15,"cellsAroundViewport"],[1,1768,185,35,"last"],[1,1776,186,8,"firstFrame"],[1,1780,186,23,"firstFrame"],[1,1782,186,34,"isMounted"],[1,1794,188,6,"firstFrame"],[1,1796,188,19,"this"],[1,1801,188,24,"_listMetrics"],[1,1814,188,37,"getCellMetrics"],[1,1829,188,52,"first"],[1,1831,188,59,"props"],[1,1834,189,6,"first"],[1,1838,193,8,"firstFrame"],[1,1841,193,22,"first"],[1,1843,193,30],[1,1847,194,6,"blankTop"],[1,1849,194,17,"Math"],[1,1854,194,22,"min"],[1,1858,195,8,"visibleLength"],[1,1860,196,8,"Math"],[1,1865,196,13,"max"],[1,1869,196,17],[1,1871,196,20,"firstFrame"],[1,1873,196,31,"offset"],[1,1880,196,40,"offset"],[1,1885,202,4],[1,1889,199,4],[1,1893,199,8,"blankBottom"],[1,1895,199,22],[1,1897,200,8,"last"],[1,1899,200,15,"cellsAroundViewport"],[1,1901,200,35,"last"],[1,1906,201,8,"lastFrame"],[1,1908,201,20,"this"],[1,1913,201,25,"_listMetrics"],[1,1926,201,38,"getCellMetrics"],[1,1941,201,53,"last"],[1,1943,201,59,"props"],[1,1946,203,6,"last"],[1,1949,203,14,"cellsAroundViewport"],[1,1951,203,34,"first"],[1,1960,204,8,"lastFrame"],[1,1964,204,22,"lastFrame"],[1,1966,204,32,"isMounted"],[1,1978,206,6,"lastFrame"],[1,1980,206,18,"this"],[1,1985,206,23,"_listMetrics"],[1,1998,206,36,"getCellMetrics"],[1,2013,206,51,"last"],[1,2015,206,57,"props"],[1,2018,207,6,"last"],[1,2022,211,4],[1,2025,211,8,"lastFrame"],[1,2028,211,21,"last"],[1,2030,211,28,"props"],[1,2032,211,34,"getItemCount"],[1,2045,211,47,"props"],[1,2047,211,53,"data"],[1,2053,211,61],[1,2055,211,64],[1,2056,212,6],[1,2060,212,12,"bottomEdge"],[1,2062,212,25,"lastFrame"],[1,2064,212,35,"offset"],[1,2071,212,44,"lastFrame"],[1,2073,212,54,"length"],[1,2080,213,6,"blankBottom"],[1,2082,213,20,"Math"],[1,2087,213,25,"min"],[1,2091,214,8,"visibleLength"],[1,2093,215,8,"Math"],[1,2098,215,13,"max"],[1,2102,215,17],[1,2104,215,20,"offset"],[1,2106,215,29,"visibleLength"],[1,2108,215,45,"bottomEdge"],[1,2111,217,4],[1,2112,218,4],[1,2116,218,10,"pixels_blank"],[1,2118,218,25,"Math"],[1,2123,218,30,"round"],[1,2129,218,36,"blankTop"],[1,2131,218,47,"blankBottom"],[1,2134,219,10,"blankness"],[1,2136,219,22,"pixels_blank"],[1,2138,219,37,"visibleLength"],[1,2140,232,4],[1,2147,220,8,"blankness"],[1,2149,220,20],[1,2152,221,6,"this"],[1,2157,221,11,"_anyBlankStartTime"],[1,2176,221,32,"now"],[1,2178,222,6,"this"],[1,2183,222,11,"_info"],[1,2189,222,17,"any_blank_speed_sum"],[1,2210,222,40,"scrollSpeed"],[1,2212,223,6,"this"],[1,2217,223,11,"_info"],[1,2223,223,17,"any_blank_count"],[1,2241,224,6,"this"],[1,2246,224,11,"_info"],[1,2252,224,17,"pixels_blank"],[1,2266,224,33,"pixels_blank"],[1,2268,225,10,"blankness"],[1,2270,225,22],[1,2275,226,8,"this"],[1,2280,226,13,"_mostlyBlankStartTime"],[1,2302,226,37,"now"],[1,2304,227,8,"this"],[1,2309,227,13,"_info"],[1,2315,227,19,"mostly_blank_count"],[1,2339,229,15,"scrollSpeed"],[1,2341,229,29],[1,2346,229,37,"Math"],[1,2351,229,42,"abs"],[1,2355,229,46,"dOffset"],[1,2358,229,57],[1,2362,230,6,"this"],[1,2367,230,11,"deactivateAndFlush"],[1,2388,232,11,"blankness"],[1,2389,233,2],[1,2392,233,3],[1,2393,233,3,"key"],[1,2397,233,3],[1,2407,233,3,"value"],[1,2413,235,2],[1,2424,236,4],[1,2431,236,11,"this"],[1,2436,236,16,"_enabled"],[1,2444,237,2],[1,2447,237,3],[1,2448,237,3,"key"],[1,2452,237,3],[1,2465,237,3,"value"],[1,2471,239,2],[1,2482,240,4,"this"],[1,2487,240,9,"_anyBlankStartTime"],[1,2506,240,30],[1,2511,241,4,"this"],[1,2516,241,9,"_info"],[1,2522,241,17],[1,2526,241,21,"Info"],[1,2528,242,4,"this"],[1,2533,242,9,"_mostlyBlankStartTime"],[1,2555,242,33],[1,2560,243,4,"this"],[1,2565,243,9,"_samplesStartTime"],[1,2583,243,29],[1,2587,244,2],[1,2591,244,3],[1,2593,244,3,"key"],[1,2597,244,3],[1,2611,244,3,"value"],[1,2617,54,2],[1,2626,54,21,"callback"],[1,2629,62,4],[1,2636,58,24],[1,2643,58,8,"_sampleRate"],[1,2646,59,6,"console"],[1,2654,59,14,"warn"],[1,2659,59,19],[1,2720,61,4,"_listeners"],[1,2722,61,15,"push"],[1,2727,61,20,"callback"],[1,2730,62,11],[1,2731,63,6,"remove"],[1,2738,63,14],[1,2749,64,8,"_listeners"],[1,2751,64,21,"_listeners"],[1,2753,64,32,"filter"],[1,2761,64,39],[1,2770,64,39,"listener"],[1,2773,64,47],[1,2780,64,51,"callback"],[1,2784,64,64,"listener"],[1,2785,64,72],[1,2788,65,6],[1,2790,67,2],[1,2793,67,3],[1,2794,67,3,"key"],[1,2798,67,3],[1,2814,67,3,"value"],[1,2820,69,2],[1,2829,69,23,"sampleRate"],[1,2832,70,4,"_sampleRate"],[1,2834,70,18,"sampleRate"],[1,2835,71,2],[1,2838,71,3],[1,2839,71,3,"key"],[1,2843,71,3],[1,2863,71,3,"value"],[1,2869,73,2],[1,2878,73,27,"minSampleCount"],[1,2881,74,4,"_minSampleCount"],[1,2883,74,22,"minSampleCount"],[1,2884,75,2],[1,2888,75,3],[1,2890,46,20],[1,2893,247,0,"module"],[1,2895,247,7,"exports"],[1,2903,247,17,"FillRateHelper"],[1,2904,247,32],[1,2908]],"functionMap":{"names":["<global>","Info","FillRateHelper","addListener","remove","_listeners.filter$argument_0","setSampleRate","setMinSampleCount","constructor","activate","deactivateAndFlush","_listeners.forEach$argument_0","computeBlankness","enabled","_resetData"],"mappings":"AAA;ACkB;CDW;AEgB;ECQ;cCS;uCCC,iCD;ODC;GDE;EIE;GJE;EKE;GLE;EME;GNI;EOE;GPK;EQE;uBCwC,0BD;GRE;EUE;GVmG;EWE;GXE;EYE;GZK;CFC"}},"type":"js/module"}]}