{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":155,"column":0,"index":3910}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":155,"column":0,"index":3910}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = getActionFromState;\n  var _slicedToArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\"));\n  function getActionFromState(state, options) {\n    var _state$index, _normalizedConfig$scr;\n    // Create a normalized configs object which will be easier to use\n    var normalizedConfig = options ? createNormalizedConfigItem(options) : {};\n    var routes = state.index != null ? state.routes.slice(0, state.index + 1) : state.routes;\n    if (routes.length === 0) {\n      return undefined;\n    }\n    if (!(routes.length === 1 && routes[0].key === undefined || routes.length === 2 && routes[0].key === undefined && routes[0].name === (normalizedConfig == null ? void 0 : normalizedConfig.initialRouteName) && routes[1].key === undefined)) {\n      return {\n        type: 'RESET',\n        payload: state\n      };\n    }\n    var route = state.routes[(_state$index = state.index) != null ? _state$index : state.routes.length - 1];\n    var current = route == null ? void 0 : route.state;\n    var config = normalizedConfig == null || (_normalizedConfig$scr = normalizedConfig.screens) == null ? void 0 : _normalizedConfig$scr[route == null ? void 0 : route.name];\n    var params = Object.assign({}, route.params);\n    var payload = route ? {\n      name: route.name,\n      path: route.path,\n      params: params\n    } : undefined;\n    while (current) {\n      var _config, _config2;\n      if (current.routes.length === 0) {\n        return undefined;\n      }\n      var _routes = current.index != null ? current.routes.slice(0, current.index + 1) : current.routes;\n      var _route = _routes[_routes.length - 1];\n\n      // Explicitly set to override existing value when merging params\n      Object.assign(params, {\n        initial: undefined,\n        screen: undefined,\n        params: undefined,\n        state: undefined\n      });\n      if (_routes.length === 1 && _routes[0].key === undefined) {\n        params.initial = true;\n        params.screen = _route.name;\n      } else if (_routes.length === 2 && _routes[0].key === undefined && _routes[0].name === ((_config = config) == null ? void 0 : _config.initialRouteName) && _routes[1].key === undefined) {\n        params.initial = false;\n        params.screen = _route.name;\n      } else {\n        params.state = current;\n        break;\n      }\n      if (_route.state) {\n        params.params = Object.assign({}, _route.params);\n        params = params.params;\n      } else {\n        params.path = _route.path;\n        params.params = _route.params;\n      }\n      current = _route.state;\n      config = (_config2 = config) == null || (_config2 = _config2.screens) == null ? void 0 : _config2[_route.name];\n    }\n    if (!payload) {\n      return;\n    }\n\n    // Try to construct payload for a `NAVIGATE` action from the state\n    // This lets us preserve the navigation state and not lose it\n    return {\n      type: 'NAVIGATE',\n      payload: payload\n    };\n  }\n  var createNormalizedConfigItem = function createNormalizedConfigItem(config) {\n    return typeof config === 'object' && config != null ? {\n      initialRouteName: config.initialRouteName,\n      screens: config.screens != null ? createNormalizedConfigs(config.screens) : undefined\n    } : {};\n  };\n  var createNormalizedConfigs = function createNormalizedConfigs(options) {\n    return Object.entries(options).reduce(function (acc, _ref) {\n      var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n        k = _ref2[0],\n        v = _ref2[1];\n      acc[k] = createNormalizedConfigItem(v);\n      return acc;\n    }, {});\n  };\n});","lineCount":92,"map":[[8,2,31,15],[8,11,31,24,"getActionFromState"],[8,29,31,42,"getActionFromState"],[8,30,32,2,"state"],[8,35,32,38],[8,37,33,2,"options"],[8,44,33,19],[8,46,34,70],[9,4,34,70],[9,8,34,70,"_state$index"],[9,20,34,70],[9,22,34,70,"_normalizedConfig$scr"],[9,43,34,70],[10,4,35,2],[11,4,36,2],[11,8,36,8,"normalizedConfig"],[11,24,36,24],[11,27,36,27,"options"],[11,34,36,34],[11,37,37,6,"createNormalizedConfigItem"],[11,63,37,32],[11,64,37,33,"options"],[11,71,37,71],[11,72,37,72],[11,75,38,6],[11,76,38,7],[11,77,38,8],[12,4,40,2],[12,8,40,8,"routes"],[12,14,40,14],[12,17,41,4,"state"],[12,22,41,9],[12,23,41,10,"index"],[12,28,41,15],[12,32,41,19],[12,36,41,23],[12,39,41,26,"state"],[12,44,41,31],[12,45,41,32,"routes"],[12,51,41,38],[12,52,41,39,"slice"],[12,57,41,44],[12,58,41,45],[12,59,41,46],[12,61,41,48,"state"],[12,66,41,53],[12,67,41,54,"index"],[12,72,41,59],[12,75,41,62],[12,76,41,63],[12,77,41,64],[12,80,41,67,"state"],[12,85,41,72],[12,86,41,73,"routes"],[12,92,41,79],[13,4,43,2],[13,8,43,6,"routes"],[13,14,43,12],[13,15,43,13,"length"],[13,21,43,19],[13,26,43,24],[13,27,43,25],[13,29,43,27],[14,6,44,4],[14,13,44,11,"undefined"],[14,22,44,20],[15,4,45,2],[16,4,47,2],[16,8,48,4],[16,10,49,7,"routes"],[16,16,49,13],[16,17,49,14,"length"],[16,23,49,20],[16,28,49,25],[16,29,49,26],[16,33,49,30,"routes"],[16,39,49,36],[16,40,49,37],[16,41,49,38],[16,42,49,39],[16,43,49,40,"key"],[16,46,49,43],[16,51,49,48,"undefined"],[16,60,49,57],[16,64,50,7,"routes"],[16,70,50,13],[16,71,50,14,"length"],[16,77,50,20],[16,82,50,25],[16,83,50,26],[16,87,51,8,"routes"],[16,93,51,14],[16,94,51,15],[16,95,51,16],[16,96,51,17],[16,97,51,18,"key"],[16,100,51,21],[16,105,51,26,"undefined"],[16,114,51,35],[16,118,52,8,"routes"],[16,124,52,14],[16,125,52,15],[16,126,52,16],[16,127,52,17],[16,128,52,18,"name"],[16,132,52,22],[16,138,52,27,"normalizedConfig"],[16,154,52,43],[16,174,52,27,"normalizedConfig"],[16,190,52,43],[16,191,52,45,"initialRouteName"],[16,207,52,61],[16,212,53,8,"routes"],[16,218,53,14],[16,219,53,15],[16,220,53,16],[16,221,53,17],[16,222,53,18,"key"],[16,225,53,21],[16,230,53,26,"undefined"],[16,239,53,36],[16,240,54,5],[16,242,55,4],[17,6,56,4],[17,13,56,11],[18,8,57,6,"type"],[18,12,57,10],[18,14,57,12],[18,21,57,19],[19,8,58,6,"payload"],[19,15,58,13],[19,17,58,15,"state"],[20,6,59,4],[20,7,59,5],[21,4,60,2],[22,4,62,2],[22,8,62,8,"route"],[22,13,62,13],[22,16,62,16,"state"],[22,21,62,21],[22,22,62,22,"routes"],[22,28,62,28],[22,30,62,28,"_state$index"],[22,42,62,28],[22,45,62,29,"state"],[22,50,62,34],[22,51,62,35,"index"],[22,56,62,40],[22,68,62,40,"_state$index"],[22,80,62,40],[22,83,62,44,"state"],[22,88,62,49],[22,89,62,50,"routes"],[22,95,62,56],[22,96,62,57,"length"],[22,102,62,63],[22,105,62,66],[22,106,62,67],[22,107,62,68],[23,4,64,2],[23,8,64,6,"current"],[23,15,64,56],[23,18,64,59,"route"],[23,23,64,64],[23,43,64,59,"route"],[23,48,64,64],[23,49,64,66,"state"],[23,54,64,71],[24,4,65,2],[24,8,65,6,"config"],[24,14,65,36],[24,17,65,39,"normalizedConfig"],[24,33,65,55],[24,46,65,55,"_normalizedConfig$scr"],[24,67,65,55],[24,70,65,39,"normalizedConfig"],[24,86,65,55],[24,87,65,57,"screens"],[24,94,65,64],[24,115,65,39,"_normalizedConfig$scr"],[24,136,65,39],[24,137,65,67,"route"],[24,142,65,72],[24,162,65,67,"route"],[24,167,65,72],[24,168,65,74,"name"],[24,172,65,78],[24,173,65,79],[25,4,66,2],[25,8,66,6,"params"],[25,14,66,12],[25,17,66,12,"Object"],[25,23,66,12],[25,24,66,12,"assign"],[25,30,66,12],[25,35,66,20,"route"],[25,40,66,25],[25,41,66,26,"params"],[25,47,66,32],[25,48,69,3],[26,4,71,2],[26,8,71,6,"payload"],[26,15,71,13],[26,18,71,16,"route"],[26,23,71,21],[26,26,72,6],[27,6,72,8,"name"],[27,10,72,12],[27,12,72,14,"route"],[27,17,72,19],[27,18,72,20,"name"],[27,22,72,24],[28,6,72,26,"path"],[28,10,72,30],[28,12,72,32,"route"],[28,17,72,37],[28,18,72,38,"path"],[28,22,72,42],[29,6,72,44,"params"],[29,12,72,50],[29,14,72,44,"params"],[30,4,72,51],[30,5,72,52],[30,8,73,6,"undefined"],[30,17,73,15],[31,4,75,2],[31,11,75,9,"current"],[31,18,75,16],[31,20,75,18],[32,6,75,18],[32,10,75,18,"_config"],[32,17,75,18],[32,19,75,18,"_config2"],[32,27,75,18],[33,6,76,4],[33,10,76,8,"current"],[33,17,76,15],[33,18,76,16,"routes"],[33,24,76,22],[33,25,76,23,"length"],[33,31,76,29],[33,36,76,34],[33,37,76,35],[33,39,76,37],[34,8,77,6],[34,15,77,13,"undefined"],[34,24,77,22],[35,6,78,4],[36,6,80,4],[36,10,80,10,"routes"],[36,17,80,16],[36,20,81,6,"current"],[36,27,81,13],[36,28,81,14,"index"],[36,33,81,19],[36,37,81,23],[36,41,81,27],[36,44,82,10,"current"],[36,51,82,17],[36,52,82,18,"routes"],[36,58,82,24],[36,59,82,25,"slice"],[36,64,82,30],[36,65,82,31],[36,66,82,32],[36,68,82,34,"current"],[36,75,82,41],[36,76,82,42,"index"],[36,81,82,47],[36,84,82,50],[36,85,82,51],[36,86,82,52],[36,89,83,10,"current"],[36,96,83,17],[36,97,83,18,"routes"],[36,103,83,24],[37,6,85,4],[37,10,85,10,"route"],[37,16,85,60],[37,19,86,6,"routes"],[37,26,86,12],[37,27,86,13,"routes"],[37,34,86,19],[37,35,86,20,"length"],[37,41,86,26],[37,44,86,29],[37,45,86,30],[37,46,86,31],[39,6,88,4],[40,6,89,4,"Object"],[40,12,89,10],[40,13,89,11,"assign"],[40,19,89,17],[40,20,89,18,"params"],[40,26,89,24],[40,28,89,26],[41,8,90,6,"initial"],[41,15,90,13],[41,17,90,15,"undefined"],[41,26,90,24],[42,8,91,6,"screen"],[42,14,91,12],[42,16,91,14,"undefined"],[42,25,91,23],[43,8,92,6,"params"],[43,14,92,12],[43,16,92,14,"undefined"],[43,25,92,23],[44,8,93,6,"state"],[44,13,93,11],[44,15,93,13,"undefined"],[45,6,94,4],[45,7,94,5],[45,8,94,6],[46,6,96,4],[46,10,96,8,"routes"],[46,17,96,14],[46,18,96,15,"length"],[46,24,96,21],[46,29,96,26],[46,30,96,27],[46,34,96,31,"routes"],[46,41,96,37],[46,42,96,38],[46,43,96,39],[46,44,96,40],[46,45,96,41,"key"],[46,48,96,44],[46,53,96,49,"undefined"],[46,62,96,58],[46,64,96,60],[47,8,97,6,"params"],[47,14,97,12],[47,15,97,13,"initial"],[47,22,97,20],[47,25,97,23],[47,29,97,27],[48,8,98,6,"params"],[48,14,98,12],[48,15,98,13,"screen"],[48,21,98,19],[48,24,98,22,"route"],[48,30,98,27],[48,31,98,28,"name"],[48,35,98,32],[49,6,99,4],[49,7,99,5],[49,13,99,11],[49,17,100,6,"routes"],[49,24,100,12],[49,25,100,13,"length"],[49,31,100,19],[49,36,100,24],[49,37,100,25],[49,41,101,6,"routes"],[49,48,101,12],[49,49,101,13],[49,50,101,14],[49,51,101,15],[49,52,101,16,"key"],[49,55,101,19],[49,60,101,24,"undefined"],[49,69,101,33],[49,73,102,6,"routes"],[49,80,102,12],[49,81,102,13],[49,82,102,14],[49,83,102,15],[49,84,102,16,"name"],[49,88,102,20],[49,95,102,20,"_config"],[49,102,102,20],[49,105,102,25,"config"],[49,111,102,31],[49,132,102,25,"_config"],[49,139,102,25],[49,140,102,33,"initialRouteName"],[49,156,102,49],[49,161,103,6,"routes"],[49,168,103,12],[49,169,103,13],[49,170,103,14],[49,171,103,15],[49,172,103,16,"key"],[49,175,103,19],[49,180,103,24,"undefined"],[49,189,103,33],[49,191,104,6],[50,8,105,6,"params"],[50,14,105,12],[50,15,105,13,"initial"],[50,22,105,20],[50,25,105,23],[50,30,105,28],[51,8,106,6,"params"],[51,14,106,12],[51,15,106,13,"screen"],[51,21,106,19],[51,24,106,22,"route"],[51,30,106,27],[51,31,106,28,"name"],[51,35,106,32],[52,6,107,4],[52,7,107,5],[52,13,107,11],[53,8,108,6,"params"],[53,14,108,12],[53,15,108,13,"state"],[53,20,108,18],[53,23,108,21,"current"],[53,30,108,28],[54,8,109,6],[55,6,110,4],[56,6,112,4],[56,10,112,8,"route"],[56,16,112,13],[56,17,112,14,"state"],[56,22,112,19],[56,24,112,21],[57,8,113,6,"params"],[57,14,113,12],[57,15,113,13,"params"],[57,21,113,19],[57,24,113,19,"Object"],[57,30,113,19],[57,31,113,19,"assign"],[57,37,113,19],[57,42,113,27,"route"],[57,48,113,32],[57,49,113,33,"params"],[57,55,113,39],[57,56,113,41],[58,8,114,6,"params"],[58,14,114,12],[58,17,114,15,"params"],[58,23,114,21],[58,24,114,22,"params"],[58,30,117,7],[59,6,118,4],[59,7,118,5],[59,13,118,11],[60,8,119,6,"params"],[60,14,119,12],[60,15,119,13,"path"],[60,19,119,17],[60,22,119,20,"route"],[60,28,119,25],[60,29,119,26,"path"],[60,33,119,30],[61,8,120,6,"params"],[61,14,120,12],[61,15,120,13,"params"],[61,21,120,19],[61,24,120,22,"route"],[61,30,120,27],[61,31,120,28,"params"],[61,37,120,34],[62,6,121,4],[63,6,123,4,"current"],[63,13,123,11],[63,16,123,14,"route"],[63,22,123,19],[63,23,123,20,"state"],[63,28,123,25],[64,6,124,4,"config"],[64,12,124,10],[64,16,124,10,"_config2"],[64,24,124,10],[64,27,124,13,"config"],[64,33,124,19],[64,47,124,19,"_config2"],[64,55,124,19],[64,58,124,13,"_config2"],[64,66,124,13],[64,67,124,21,"screens"],[64,74,124,28],[64,95,124,13,"_config2"],[64,103,124,13],[64,104,124,31,"route"],[64,110,124,36],[64,111,124,37,"name"],[64,115,124,41],[64,116,124,42],[65,4,125,2],[66,4,127,2],[66,8,127,6],[66,9,127,7,"payload"],[66,16,127,14],[66,18,127,16],[67,6,128,4],[68,4,129,2],[70,4,131,2],[71,4,132,2],[72,4,133,2],[72,11,133,9],[73,6,134,4,"type"],[73,10,134,8],[73,12,134,10],[73,22,134,20],[74,6,135,4,"payload"],[74,13,135,11],[74,15,135,4,"payload"],[75,4,136,2],[75,5,136,3],[76,2,137,0],[77,2,139,0],[77,6,139,6,"createNormalizedConfigItem"],[77,32,139,32],[77,35,139,35],[77,44,139,6,"createNormalizedConfigItem"],[77,70,139,32,"createNormalizedConfigItem"],[77,71,139,36,"config"],[77,77,139,71],[78,4,139,71],[78,11,140,2],[78,18,140,9,"config"],[78,24,140,15],[78,29,140,20],[78,37,140,28],[78,41,140,32,"config"],[78,47,140,38],[78,51,140,42],[78,55,140,46],[78,58,141,6],[79,6,142,8,"initialRouteName"],[79,22,142,24],[79,24,142,26,"config"],[79,30,142,32],[79,31,142,33,"initialRouteName"],[79,47,142,49],[80,6,143,8,"screens"],[80,13,143,15],[80,15,144,10,"config"],[80,21,144,16],[80,22,144,17,"screens"],[80,29,144,24],[80,33,144,28],[80,37,144,32],[80,40,145,14,"createNormalizedConfigs"],[80,63,145,37],[80,64,145,38,"config"],[80,70,145,44],[80,71,145,45,"screens"],[80,78,145,52],[80,79,145,53],[80,82,146,14,"undefined"],[81,4,147,6],[81,5,147,7],[81,8,148,6],[81,9,148,7],[81,10,148,8],[82,2,148,8],[83,2,150,0],[83,6,150,6,"createNormalizedConfigs"],[83,29,150,29],[83,32,150,32],[83,41,150,6,"createNormalizedConfigs"],[83,64,150,29,"createNormalizedConfigs"],[83,65,150,33,"options"],[83,72,150,63],[84,4,150,63],[84,11,151,2,"Object"],[84,17,151,8],[84,18,151,9,"entries"],[84,25,151,16],[84,26,151,17,"options"],[84,33,151,24],[84,34,151,25],[84,35,151,26,"reduce"],[84,41,151,32],[84,42,151,61],[84,52,151,62,"acc"],[84,55,151,65],[84,57,151,65,"_ref"],[84,61,151,65],[84,63,151,78],[85,6,151,78],[85,10,151,78,"_ref2"],[85,15,151,78],[85,22,151,78,"_slicedToArray2"],[85,37,151,78],[85,38,151,78,"default"],[85,45,151,78],[85,47,151,78,"_ref"],[85,51,151,78],[86,8,151,68,"k"],[86,9,151,69],[86,12,151,69,"_ref2"],[86,17,151,69],[87,8,151,71,"v"],[87,9,151,72],[87,12,151,72,"_ref2"],[87,17,151,72],[88,6,152,4,"acc"],[88,9,152,7],[88,10,152,8,"k"],[88,11,152,9],[88,12,152,10],[88,15,152,13,"createNormalizedConfigItem"],[88,41,152,39],[88,42,152,40,"v"],[88,43,152,41],[88,44,152,42],[89,6,153,4],[89,13,153,11,"acc"],[89,16,153,14],[90,4,154,2],[90,5,154,3],[90,7,154,5],[90,8,154,6],[90,9,154,7],[90,10,154,8],[91,2,154,8],[92,0,154,9],[92,3]],"functionMap":{"names":["<global>","getActionFromState","createNormalizedConfigItem","createNormalizedConfigs","Object.entries.reduce$argument_0"],"mappings":"AAA;eC8B;CD0G;mCEE;QFS;gCGE;6DCC;GDG,KH"}},"type":"js/module"}]}