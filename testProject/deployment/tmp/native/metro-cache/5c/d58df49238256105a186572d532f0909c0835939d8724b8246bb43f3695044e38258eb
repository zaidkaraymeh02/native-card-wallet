{"dependencies":[{"name":"../base","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}},{"start":{"line":1,"column":0,"index":0},"end":{"line":13,"column":17,"index":120}}],"key":"AtuUvSinYmn6DuSpemc2hb6pTbk="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var VELOCITY_EPS = 5;\n  function decay(clock, state, config) {\n    var lastTime = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").cond)(state.time, state.time, clock);\n    var deltaTime = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").sub)(clock, lastTime);\n\n    // v0 = v / 1000\n    // v = v0 * powf(deceleration, dt);\n    // v = v * 1000;\n\n    // x0 = x;\n    // x = x0 + v0 * deceleration * (1 - powf(deceleration, dt)) / (1 - deceleration)\n    var kv = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").pow)(config.deceleration, deltaTime);\n    var kx = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").divide)((0, _$$_REQUIRE(_dependencyMap[0], \"../base\").multiply)(config.deceleration, (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").sub)(1, kv)), (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").sub)(1, config.deceleration));\n    var v0 = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").divide)(state.velocity, 1000);\n    var v = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").multiply)(v0, kv, 1000);\n    var x = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").add)(state.position, (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").multiply)(v0, kx));\n    return (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").block)([(0, _$$_REQUIRE(_dependencyMap[0], \"../base\").set)(state.position, x), (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").set)(state.velocity, v), (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").set)(state.time, clock), (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").cond)((0, _$$_REQUIRE(_dependencyMap[0], \"../base\").lessThan)((0, _$$_REQUIRE(_dependencyMap[0], \"../base\").abs)(v), VELOCITY_EPS), (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").set)(state.finished, 1))]);\n  }\n  var procDecay = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").proc)(function (clock, time, velocity, position, finished, deceleration) {\n    return decay(clock, {\n      time: time,\n      velocity: velocity,\n      position: position,\n      finished: finished\n    }, {\n      deceleration: deceleration\n    });\n  });\n  var _default = exports.default = function _default(clock, _ref, _ref2) {\n    var time = _ref.time,\n      velocity = _ref.velocity,\n      position = _ref.position,\n      finished = _ref.finished;\n    var deceleration = _ref2.deceleration;\n    return procDecay(clock, time, velocity, position, finished, deceleration);\n  };\n});","lineCount":42,"map":[[6,2,15,0],[6,6,15,6,"VELOCITY_EPS"],[6,18,15,18],[6,21,15,21],[6,22,15,22],[7,2,17,0],[7,11,17,9,"decay"],[7,16,17,14,"decay"],[7,17,17,15,"clock"],[7,22,17,20],[7,24,17,22,"state"],[7,29,17,27],[7,31,17,29,"config"],[7,37,17,35],[7,39,17,37],[8,4,18,2],[8,8,18,8,"lastTime"],[8,16,18,16],[8,19,18,19],[8,23,18,19,"cond"],[8,53,18,19],[8,54,18,19,"cond"],[8,69,18,23],[8,71,18,24,"state"],[8,76,18,29],[8,77,18,30,"time"],[8,81,18,34],[8,83,18,36,"state"],[8,88,18,41],[8,89,18,42,"time"],[8,93,18,46],[8,95,18,48,"clock"],[8,100,18,53],[8,101,18,54],[9,4,19,2],[9,8,19,8,"deltaTime"],[9,17,19,17],[9,20,19,20],[9,24,19,20,"sub"],[9,54,19,20],[9,55,19,20,"sub"],[9,69,19,23],[9,71,19,24,"clock"],[9,76,19,29],[9,78,19,31,"lastTime"],[9,86,19,39],[9,87,19,40],[11,4,21,2],[12,4,22,2],[13,4,23,2],[15,4,25,2],[16,4,26,2],[17,4,27,2],[17,8,27,8,"kv"],[17,10,27,10],[17,13,27,13],[17,17,27,13,"pow"],[17,47,27,13],[17,48,27,13,"pow"],[17,62,27,16],[17,64,27,17,"config"],[17,70,27,23],[17,71,27,24,"deceleration"],[17,83,27,36],[17,85,27,38,"deltaTime"],[17,94,27,47],[17,95,27,48],[18,4,28,2],[18,8,28,8,"kx"],[18,10,28,10],[18,13,28,13],[18,17,28,13,"divide"],[18,47,28,13],[18,48,28,13,"divide"],[18,65,28,19],[18,67,29,4],[18,71,29,4,"multiply"],[18,101,29,4],[18,102,29,4,"multiply"],[18,121,29,12],[18,123,29,13,"config"],[18,129,29,19],[18,130,29,20,"deceleration"],[18,142,29,32],[18,144,29,34],[18,148,29,34,"sub"],[18,178,29,34],[18,179,29,34,"sub"],[18,193,29,37],[18,195,29,38],[18,196,29,39],[18,198,29,41,"kv"],[18,200,29,43],[18,201,29,44],[18,202,29,45],[18,204,30,4],[18,208,30,4,"sub"],[18,238,30,4],[18,239,30,4,"sub"],[18,253,30,7],[18,255,30,8],[18,256,30,9],[18,258,30,11,"config"],[18,264,30,17],[18,265,30,18,"deceleration"],[18,277,30,30],[18,278,31,2],[18,279,31,3],[19,4,32,2],[19,8,32,8,"v0"],[19,10,32,10],[19,13,32,13],[19,17,32,13,"divide"],[19,47,32,13],[19,48,32,13,"divide"],[19,65,32,19],[19,67,32,20,"state"],[19,72,32,25],[19,73,32,26,"velocity"],[19,81,32,34],[19,83,32,36],[19,87,32,40],[19,88,32,41],[20,4,33,2],[20,8,33,8,"v"],[20,9,33,9],[20,12,33,12],[20,16,33,12,"multiply"],[20,46,33,12],[20,47,33,12,"multiply"],[20,66,33,20],[20,68,33,21,"v0"],[20,70,33,23],[20,72,33,25,"kv"],[20,74,33,27],[20,76,33,29],[20,80,33,33],[20,81,33,34],[21,4,34,2],[21,8,34,8,"x"],[21,9,34,9],[21,12,34,12],[21,16,34,12,"add"],[21,46,34,12],[21,47,34,12,"add"],[21,61,34,15],[21,63,34,16,"state"],[21,68,34,21],[21,69,34,22,"position"],[21,77,34,30],[21,79,34,32],[21,83,34,32,"multiply"],[21,113,34,32],[21,114,34,32,"multiply"],[21,133,34,40],[21,135,34,41,"v0"],[21,137,34,43],[21,139,34,45,"kx"],[21,141,34,47],[21,142,34,48],[21,143,34,49],[22,4,35,2],[22,11,35,9],[22,15,35,9,"block"],[22,45,35,9],[22,46,35,9,"block"],[22,62,35,14],[22,64,35,15],[22,65,36,4],[22,69,36,4,"set"],[22,99,36,4],[22,100,36,4,"set"],[22,114,36,7],[22,116,36,8,"state"],[22,121,36,13],[22,122,36,14,"position"],[22,130,36,22],[22,132,36,24,"x"],[22,133,36,25],[22,134,36,26],[22,136,37,4],[22,140,37,4,"set"],[22,170,37,4],[22,171,37,4,"set"],[22,185,37,7],[22,187,37,8,"state"],[22,192,37,13],[22,193,37,14,"velocity"],[22,201,37,22],[22,203,37,24,"v"],[22,204,37,25],[22,205,37,26],[22,207,38,4],[22,211,38,4,"set"],[22,241,38,4],[22,242,38,4,"set"],[22,256,38,7],[22,258,38,8,"state"],[22,263,38,13],[22,264,38,14,"time"],[22,268,38,18],[22,270,38,20,"clock"],[22,275,38,25],[22,276,38,26],[22,278,39,4],[22,282,39,4,"cond"],[22,312,39,4],[22,313,39,4,"cond"],[22,328,39,8],[22,330,39,9],[22,334,39,9,"lessThan"],[22,364,39,9],[22,365,39,9,"lessThan"],[22,384,39,17],[22,386,39,18],[22,390,39,18,"abs"],[22,420,39,18],[22,421,39,18,"abs"],[22,435,39,21],[22,437,39,22,"v"],[22,438,39,23],[22,439,39,24],[22,441,39,26,"VELOCITY_EPS"],[22,453,39,38],[22,454,39,39],[22,456,39,41],[22,460,39,41,"set"],[22,490,39,41],[22,491,39,41,"set"],[22,505,39,44],[22,507,39,45,"state"],[22,512,39,50],[22,513,39,51,"finished"],[22,521,39,59],[22,523,39,61],[22,524,39,62],[22,525,39,63],[22,526,39,64],[22,527,40,3],[22,528,40,4],[23,2,41,0],[24,2,43,0],[24,6,43,6,"procDecay"],[24,15,43,15],[24,18,43,18],[24,22,43,18,"proc"],[24,52,43,18],[24,53,43,18,"proc"],[24,68,43,22],[24,70,44,2],[24,80,44,3,"clock"],[24,85,44,8],[24,87,44,10,"time"],[24,91,44,14],[24,93,44,16,"velocity"],[24,101,44,24],[24,103,44,26,"position"],[24,111,44,34],[24,113,44,36,"finished"],[24,121,44,44],[24,123,44,46,"deceleration"],[24,135,44,58],[25,4,44,58],[25,11,45,4,"decay"],[25,16,45,9],[25,17,45,10,"clock"],[25,22,45,15],[25,24,45,17],[26,6,45,19,"time"],[26,10,45,23],[26,12,45,19,"time"],[26,16,45,23],[27,6,45,25,"velocity"],[27,14,45,33],[27,16,45,25,"velocity"],[27,24,45,33],[28,6,45,35,"position"],[28,14,45,43],[28,16,45,35,"position"],[28,24,45,43],[29,6,45,45,"finished"],[29,14,45,53],[29,16,45,45,"finished"],[30,4,45,54],[30,5,45,55],[30,7,45,57],[31,6,45,59,"deceleration"],[31,18,45,71],[31,20,45,59,"deceleration"],[32,4,45,72],[32,5,45,73],[32,6,45,74],[33,2,45,74],[33,3,46,0],[33,4,46,1],[34,2,46,2],[34,6,46,2,"_default"],[34,14,46,2],[34,17,46,2,"exports"],[34,24,46,2],[34,25,46,2,"default"],[34,32,46,2],[34,35,48,15],[34,44,48,15,"_default"],[34,53,49,2,"clock"],[34,58,49,7],[34,60,49,7,"_ref"],[34,64,49,7],[34,66,49,7,"_ref2"],[34,71,49,7],[35,4,49,7],[35,8,50,4,"time"],[35,12,50,8],[35,15,50,8,"_ref"],[35,19,50,8],[35,20,50,4,"time"],[35,24,50,8],[36,6,50,10,"velocity"],[36,14,50,18],[36,17,50,18,"_ref"],[36,21,50,18],[36,22,50,10,"velocity"],[36,30,50,18],[37,6,50,20,"position"],[37,14,50,28],[37,17,50,28,"_ref"],[37,21,50,28],[37,22,50,20,"position"],[37,30,50,28],[38,6,50,30,"finished"],[38,14,50,38],[38,17,50,38,"_ref"],[38,21,50,38],[38,22,50,30,"finished"],[38,30,50,38],[39,4,50,38],[39,8,51,4,"deceleration"],[39,20,51,16],[39,23,51,16,"_ref2"],[39,28,51,16],[39,29,51,4,"deceleration"],[39,41,51,16],[40,4,51,16],[40,11,52,5,"procDecay"],[40,20,52,14],[40,21,52,15,"clock"],[40,26,52,20],[40,28,52,22,"time"],[40,32,52,26],[40,34,52,28,"velocity"],[40,42,52,36],[40,44,52,38,"position"],[40,52,52,46],[40,54,52,48,"finished"],[40,62,52,56],[40,64,52,58,"deceleration"],[40,76,52,70],[40,77,52,71],[41,2,52,71],[42,0,52,71],[42,3]],"functionMap":{"names":["<global>","decay","proc$argument_0","default"],"mappings":"AAA;ACgB;CDwB;EEG;0EFC;eGG;uEHI"}},"type":"js/module"}]}