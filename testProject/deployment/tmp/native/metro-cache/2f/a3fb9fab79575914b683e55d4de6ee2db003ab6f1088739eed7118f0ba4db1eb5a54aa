{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":350,"column":0,"index":10102}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":350,"column":0,"index":10102}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":350,"column":0,"index":10102}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":350,"column":0,"index":10102}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"./ListMetricsAggregator","data":{"asyncType":null,"locs":[{"start":{"line":15,"column":0,"index":293},"end":{"line":15,"column":60,"index":353}}],"key":"B6XNBZp4i+zmTikMWPAwbp+lOt8="}},{"name":"invariant","data":{"asyncType":null,"locs":[{"start":{"line":17,"column":18,"index":373},"end":{"line":17,"column":38,"index":393}}],"key":"Fzi/BpZws2YooIGJ9b6u0HJtuks="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  var _slicedToArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\"));\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/createClass\"));\n  var _ListMetricsAggregator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"./ListMetricsAggregator\"));\n  /**\n   * A Utility class for calculating viewable items based on current metrics like scroll position and\n   * layout.\n   *\n   * An item is said to be in a \"viewable\" state when any of the following\n   * is true for longer than `minimumViewTime` milliseconds (after an interaction if `waitForInteraction`\n   * is true):\n   *\n   * - Occupying >= `viewAreaCoveragePercentThreshold` of the view area XOR fraction of the item\n   *   visible in the view area >= `itemVisiblePercentThreshold`.\n   * - Entirely visible on screen\n   */\n  var ViewabilityHelper = /*#__PURE__*/function () {\n    function ViewabilityHelper() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        viewAreaCoveragePercentThreshold: 0\n      };\n      (0, _classCallCheck2.default)(this, ViewabilityHelper);\n      this._hasInteracted = false;\n      this._timers = new Set();\n      this._viewableIndices = [];\n      this._viewableItems = new Map();\n      this._config = config;\n    }\n\n    /**\n     * Cleanup, e.g. on unmount. Clears any pending timers.\n     */\n    return (0, _createClass2.default)(ViewabilityHelper, [{\n      key: \"dispose\",\n      value: function dispose() {\n        /* $FlowFixMe[incompatible-call] (>=0.63.0 site=react_native_fb) This\n         * comment suppresses an error found when Flow v0.63 was deployed. To see\n         * the error delete this comment and run Flow. */\n        this._timers.forEach(clearTimeout);\n      }\n\n      /**\n       * Determines which items are viewable based on the current metrics and config.\n       */\n    }, {\n      key: \"computeViewableItems\",\n      value: function computeViewableItems(props, scrollOffset, viewportHeight, listMetrics,\n      // Optional optimization to reduce the scan size\n      renderRange) {\n        var itemCount = props.getItemCount(props.data);\n        var _this$_config = this._config,\n          itemVisiblePercentThreshold = _this$_config.itemVisiblePercentThreshold,\n          viewAreaCoveragePercentThreshold = _this$_config.viewAreaCoveragePercentThreshold;\n        var viewAreaMode = viewAreaCoveragePercentThreshold != null;\n        var viewablePercentThreshold = viewAreaMode ? viewAreaCoveragePercentThreshold : itemVisiblePercentThreshold;\n        _$$_REQUIRE(_dependencyMap[5], \"invariant\")(viewablePercentThreshold != null && itemVisiblePercentThreshold != null !== (viewAreaCoveragePercentThreshold != null), 'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');\n        var viewableIndices = [];\n        if (itemCount === 0) {\n          return viewableIndices;\n        }\n        var firstVisible = -1;\n        var _ref = renderRange || {\n            first: 0,\n            last: itemCount - 1\n          },\n          first = _ref.first,\n          last = _ref.last;\n        if (last >= itemCount) {\n          console.warn('Invalid render range computing viewability ' + JSON.stringify({\n            renderRange: renderRange,\n            itemCount: itemCount\n          }));\n          return [];\n        }\n        for (var idx = first; idx <= last; idx++) {\n          var metrics = listMetrics.getCellMetrics(idx, props);\n          if (!metrics) {\n            continue;\n          }\n          var top = Math.floor(metrics.offset - scrollOffset);\n          var bottom = Math.floor(top + metrics.length);\n          if (top < viewportHeight && bottom > 0) {\n            firstVisible = idx;\n            if (_isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, metrics.length)) {\n              viewableIndices.push(idx);\n            }\n          } else if (firstVisible >= 0) {\n            break;\n          }\n        }\n        return viewableIndices;\n      }\n\n      /**\n       * Figures out which items are viewable and how that has changed from before and calls\n       * `onViewableItemsChanged` as appropriate.\n       */\n    }, {\n      key: \"onUpdate\",\n      value: function onUpdate(props, scrollOffset, viewportHeight, listMetrics, createViewToken, onViewableItemsChanged,\n      // Optional optimization to reduce the scan size\n      renderRange) {\n        var _this = this;\n        var itemCount = props.getItemCount(props.data);\n        if (this._config.waitForInteraction && !this._hasInteracted || itemCount === 0 || !listMetrics.getCellMetrics(0, props)) {\n          return;\n        }\n        var viewableIndices = [];\n        if (itemCount) {\n          viewableIndices = this.computeViewableItems(props, scrollOffset, viewportHeight, listMetrics, renderRange);\n        }\n        if (this._viewableIndices.length === viewableIndices.length && this._viewableIndices.every(function (v, ii) {\n          return v === viewableIndices[ii];\n        })) {\n          // We might get a lot of scroll events where visibility doesn't change and we don't want to do\n          // extra work in those cases.\n          return;\n        }\n        this._viewableIndices = viewableIndices;\n        if (this._config.minimumViewTime) {\n          var handle = setTimeout(function () {\n            /* $FlowFixMe[incompatible-call] (>=0.63.0 site=react_native_fb) This\n             * comment suppresses an error found when Flow v0.63 was deployed. To\n             * see the error delete this comment and run Flow. */\n            _this._timers.delete(handle);\n            _this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n          }, this._config.minimumViewTime);\n          /* $FlowFixMe[incompatible-call] (>=0.63.0 site=react_native_fb) This\n           * comment suppresses an error found when Flow v0.63 was deployed. To see\n           * the error delete this comment and run Flow. */\n          this._timers.add(handle);\n        } else {\n          this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n        }\n      }\n\n      /**\n       * clean-up cached _viewableIndices to evaluate changed items on next update\n       */\n    }, {\n      key: \"resetViewableIndices\",\n      value: function resetViewableIndices() {\n        this._viewableIndices = [];\n      }\n\n      /**\n       * Records that an interaction has happened even if there has been no scroll.\n       */\n    }, {\n      key: \"recordInteraction\",\n      value: function recordInteraction() {\n        this._hasInteracted = true;\n      }\n    }, {\n      key: \"_onUpdateSync\",\n      value: function _onUpdateSync(props, viewableIndicesToCheck, onViewableItemsChanged, createViewToken) {\n        var _this2 = this;\n        // Filter out indices that have gone out of view since this call was scheduled.\n        viewableIndicesToCheck = viewableIndicesToCheck.filter(function (ii) {\n          return _this2._viewableIndices.includes(ii);\n        });\n        var prevItems = this._viewableItems;\n        var nextItems = new Map(viewableIndicesToCheck.map(function (ii) {\n          var viewable = createViewToken(ii, true, props);\n          return [viewable.key, viewable];\n        }));\n        var changed = [];\n        for (var _ref2 of nextItems) {\n          var _ref3 = (0, _slicedToArray2.default)(_ref2, 2);\n          var key = _ref3[0];\n          var viewable = _ref3[1];\n          if (!prevItems.has(key)) {\n            changed.push(viewable);\n          }\n        }\n        for (var _ref4 of prevItems) {\n          var _ref5 = (0, _slicedToArray2.default)(_ref4, 2);\n          var _key = _ref5[0];\n          var _viewable = _ref5[1];\n          if (!nextItems.has(_key)) {\n            changed.push(Object.assign({}, _viewable, {\n              isViewable: false\n            }));\n          }\n        }\n        if (changed.length > 0) {\n          this._viewableItems = nextItems;\n          onViewableItemsChanged({\n            viewableItems: Array.from(nextItems.values()),\n            changed: changed,\n            viewabilityConfig: this._config\n          });\n        }\n      }\n    }]);\n  }();\n  function _isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, itemLength) {\n    if (_isEntirelyVisible(top, bottom, viewportHeight)) {\n      return true;\n    } else {\n      var pixels = _getPixelsVisible(top, bottom, viewportHeight);\n      var percent = 100 * (viewAreaMode ? pixels / viewportHeight : pixels / itemLength);\n      return percent >= viewablePercentThreshold;\n    }\n  }\n  function _getPixelsVisible(top, bottom, viewportHeight) {\n    var visibleHeight = Math.min(bottom, viewportHeight) - Math.max(top, 0);\n    return Math.max(0, visibleHeight);\n  }\n  function _isEntirelyVisible(top, bottom, viewportHeight) {\n    return top >= 0 && bottom <= viewportHeight && bottom > top;\n  }\n  module.exports = ViewabilityHelper;\n});","lineCount":228,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,11,13],[14,6,11,13,"_interopRequireDefault"],[14,28,11,13],[14,31,11,13,"_$$_REQUIRE"],[14,42,11,13],[14,43,11,13,"_dependencyMap"],[14,57,11,13],[15,2,11,13],[15,6,11,13,"_slicedToArray2"],[15,21,11,13],[15,24,11,13,"_interopRequireDefault"],[15,46,11,13],[15,47,11,13,"_$$_REQUIRE"],[15,58,11,13],[15,59,11,13,"_dependencyMap"],[15,73,11,13],[16,2,11,13],[16,6,11,13,"_classCallCheck2"],[16,22,11,13],[16,25,11,13,"_interopRequireDefault"],[16,47,11,13],[16,48,11,13,"_$$_REQUIRE"],[16,59,11,13],[16,60,11,13,"_dependencyMap"],[16,74,11,13],[17,2,11,13],[17,6,11,13,"_createClass2"],[17,19,11,13],[17,22,11,13,"_interopRequireDefault"],[17,44,11,13],[17,45,11,13,"_$$_REQUIRE"],[17,56,11,13],[17,57,11,13,"_dependencyMap"],[17,71,11,13],[18,2,15,0],[18,6,15,0,"_ListMetricsAggregator"],[18,28,15,0],[18,31,15,0,"_interopRequireDefault"],[18,53,15,0],[18,54,15,0,"_$$_REQUIRE"],[18,65,15,0],[18,66,15,0,"_dependencyMap"],[18,80,15,0],[19,2,67,0],[20,0,68,0],[21,0,69,0],[22,0,70,0],[23,0,71,0],[24,0,72,0],[25,0,73,0],[26,0,74,0],[27,0,75,0],[28,0,76,0],[29,0,77,0],[30,0,78,0],[31,2,67,0],[31,6,79,6,"ViewabilityHelper"],[31,23,79,23],[32,4,86,2],[32,13,86,2,"ViewabilityHelper"],[32,31,86,2],[32,33,88,4],[33,6,88,4],[33,10,87,4,"config"],[33,16,87,29],[33,19,87,29,"arguments"],[33,28,87,29],[33,29,87,29,"length"],[33,35,87,29],[33,43,87,29,"arguments"],[33,52,87,29],[33,60,87,29,"undefined"],[33,69,87,29],[33,72,87,29,"arguments"],[33,81,87,29],[33,87,87,32],[34,8,87,33,"viewAreaCoveragePercentThreshold"],[34,40,87,65],[34,42,87,67],[35,6,87,68],[35,7,87,69],[36,6,87,69],[36,10,87,69,"_classCallCheck2"],[36,26,87,69],[36,27,87,69,"default"],[36,34,87,69],[36,42,87,69,"ViewabilityHelper"],[36,59,87,69],[37,6,87,69],[37,11,81,2,"_hasInteracted"],[37,25,81,16],[37,28,81,28],[37,33,81,33],[38,6,81,33],[38,11,82,2,"_timers"],[38,18,82,9],[38,21,82,25],[38,25,82,29,"Set"],[38,28,82,32],[38,29,82,33],[38,30,82,34],[39,6,82,34],[39,11,83,2,"_viewableIndices"],[39,27,83,18],[39,30,83,36],[39,32,83,38],[40,6,83,38],[40,11,84,2,"_viewableItems"],[40,25,84,16],[40,28,84,43],[40,32,84,47,"Map"],[40,35,84,50],[40,36,84,51],[40,37,84,52],[41,6,89,4],[41,10,89,8],[41,11,89,9,"_config"],[41,18,89,16],[41,21,89,19,"config"],[41,27,89,25],[42,4,90,2],[44,4,92,2],[45,0,93,0],[46,0,94,0],[47,4,92,2],[47,15,92,2,"_createClass2"],[47,28,92,2],[47,29,92,2,"default"],[47,36,92,2],[47,38,92,2,"ViewabilityHelper"],[47,55,92,2],[48,6,92,2,"key"],[48,9,92,2],[49,6,92,2,"value"],[49,11,92,2],[49,13,95,2],[49,22,95,2,"dispose"],[49,29,95,9,"dispose"],[49,30,95,9],[49,32,95,12],[50,8,96,4],[51,0,97,0],[52,0,98,0],[53,8,99,4],[53,12,99,8],[53,13,99,9,"_timers"],[53,20,99,16],[53,21,99,17,"forEach"],[53,28,99,24],[53,29,99,25,"clearTimeout"],[53,41,99,37],[53,42,99,38],[54,6,100,2],[56,6,102,2],[57,0,103,0],[58,0,104,0],[59,4,102,2],[60,6,102,2,"key"],[60,9,102,2],[61,6,102,2,"value"],[61,11,102,2],[61,13,105,2],[61,22,105,2,"computeViewableItems"],[61,42,105,22,"computeViewableItems"],[61,43,106,4,"props"],[61,48,106,26],[61,50,107,4,"scrollOffset"],[61,62,107,24],[61,64,108,4,"viewportHeight"],[61,78,108,26],[61,80,109,4,"listMetrics"],[61,91,109,38],[62,6,110,4],[63,6,111,4,"renderRange"],[63,17,115,5],[63,19,116,19],[64,8,117,4],[64,12,117,10,"itemCount"],[64,21,117,19],[64,24,117,22,"props"],[64,29,117,27],[64,30,117,28,"getItemCount"],[64,42,117,40],[64,43,117,41,"props"],[64,48,117,46],[64,49,117,47,"data"],[64,53,117,51],[64,54,117,52],[65,8,118,4],[65,12,118,4,"_this$_config"],[65,25,118,4],[65,28,119,6],[65,32,119,10],[65,33,119,11,"_config"],[65,40,119,18],[66,10,118,11,"itemVisiblePercentThreshold"],[66,37,118,38],[66,40,118,38,"_this$_config"],[66,53,118,38],[66,54,118,11,"itemVisiblePercentThreshold"],[66,81,118,38],[67,10,118,40,"viewAreaCoveragePercentThreshold"],[67,42,118,72],[67,45,118,72,"_this$_config"],[67,58,118,72],[67,59,118,40,"viewAreaCoveragePercentThreshold"],[67,91,118,72],[68,8,120,4],[68,12,120,10,"viewAreaMode"],[68,24,120,22],[68,27,120,25,"viewAreaCoveragePercentThreshold"],[68,59,120,57],[68,63,120,61],[68,67,120,65],[69,8,121,4],[69,12,121,10,"viewablePercentThreshold"],[69,36,121,34],[69,39,121,37,"viewAreaMode"],[69,51,121,49],[69,54,122,8,"viewAreaCoveragePercentThreshold"],[69,86,122,40],[69,89,123,8,"itemVisiblePercentThreshold"],[69,116,123,35],[70,8,124,4,"_$$_REQUIRE"],[70,19,124,4],[70,20,124,4,"_dependencyMap"],[70,34,124,4],[70,52,125,6,"viewablePercentThreshold"],[70,76,125,30],[70,80,125,34],[70,84,125,38],[70,88,126,9,"itemVisiblePercentThreshold"],[70,115,126,36],[70,119,126,40],[70,123,126,44],[70,129,127,11,"viewAreaCoveragePercentThreshold"],[70,161,127,43],[70,165,127,47],[70,169,127,51],[70,170,127,52],[70,172,128,6],[70,261,129,4],[70,262,129,5],[71,8,130,4],[71,12,130,10,"viewableIndices"],[71,27,130,25],[71,30,130,28],[71,32,130,30],[72,8,131,4],[72,12,131,8,"itemCount"],[72,21,131,17],[72,26,131,22],[72,27,131,23],[72,29,131,25],[73,10,132,6],[73,17,132,13,"viewableIndices"],[73,32,132,28],[74,8,133,4],[75,8,134,4],[75,12,134,8,"firstVisible"],[75,24,134,20],[75,27,134,23],[75,28,134,24],[75,29,134,25],[76,8,135,4],[76,12,135,4,"_ref"],[76,16,135,4],[76,19,135,26,"renderRange"],[76,30,135,37],[76,34,135,41],[77,12,135,42,"first"],[77,17,135,47],[77,19,135,49],[77,20,135,50],[78,12,135,52,"last"],[78,16,135,56],[78,18,135,58,"itemCount"],[78,27,135,67],[78,30,135,70],[79,10,135,71],[79,11,135,72],[80,10,135,11,"first"],[80,15,135,16],[80,18,135,16,"_ref"],[80,22,135,16],[80,23,135,11,"first"],[80,28,135,16],[81,10,135,18,"last"],[81,14,135,22],[81,17,135,22,"_ref"],[81,21,135,22],[81,22,135,18,"last"],[81,26,135,22],[82,8,136,4],[82,12,136,8,"last"],[82,16,136,12],[82,20,136,16,"itemCount"],[82,29,136,25],[82,31,136,27],[83,10,137,6,"console"],[83,17,137,13],[83,18,137,14,"warn"],[83,22,137,18],[83,23,138,8],[83,68,138,53],[83,71,139,10,"JSON"],[83,75,139,14],[83,76,139,15,"stringify"],[83,85,139,24],[83,86,139,25],[84,12,139,26,"renderRange"],[84,23,139,37],[84,25,139,26,"renderRange"],[84,36,139,37],[85,12,139,39,"itemCount"],[85,21,139,48],[85,23,139,39,"itemCount"],[86,10,139,48],[86,11,139,49],[86,12,140,6],[86,13,140,7],[87,10,141,6],[87,17,141,13],[87,19,141,15],[88,8,142,4],[89,8,143,4],[89,13,143,9],[89,17,143,13,"idx"],[89,20,143,16],[89,23,143,19,"first"],[89,28,143,24],[89,30,143,26,"idx"],[89,33,143,29],[89,37,143,33,"last"],[89,41,143,37],[89,43,143,39,"idx"],[89,46,143,42],[89,48,143,44],[89,50,143,46],[90,10,144,6],[90,14,144,12,"metrics"],[90,21,144,19],[90,24,144,22,"listMetrics"],[90,35,144,33],[90,36,144,34,"getCellMetrics"],[90,50,144,48],[90,51,144,49,"idx"],[90,54,144,52],[90,56,144,54,"props"],[90,61,144,59],[90,62,144,60],[91,10,145,6],[91,14,145,10],[91,15,145,11,"metrics"],[91,22,145,18],[91,24,145,20],[92,12,146,8],[93,10,147,6],[94,10,148,6],[94,14,148,12,"top"],[94,17,148,15],[94,20,148,18,"Math"],[94,24,148,22],[94,25,148,23,"floor"],[94,30,148,28],[94,31,148,29,"metrics"],[94,38,148,36],[94,39,148,37,"offset"],[94,45,148,43],[94,48,148,46,"scrollOffset"],[94,60,148,58],[94,61,148,59],[95,10,149,6],[95,14,149,12,"bottom"],[95,20,149,18],[95,23,149,21,"Math"],[95,27,149,25],[95,28,149,26,"floor"],[95,33,149,31],[95,34,149,32,"top"],[95,37,149,35],[95,40,149,38,"metrics"],[95,47,149,45],[95,48,149,46,"length"],[95,54,149,52],[95,55,149,53],[96,10,151,6],[96,14,151,10,"top"],[96,17,151,13],[96,20,151,16,"viewportHeight"],[96,34,151,30],[96,38,151,34,"bottom"],[96,44,151,40],[96,47,151,43],[96,48,151,44],[96,50,151,46],[97,12,152,8,"firstVisible"],[97,24,152,20],[97,27,152,23,"idx"],[97,30,152,26],[98,12,153,8],[98,16,154,10,"_isViewable"],[98,27,154,21],[98,28,155,12,"viewAreaMode"],[98,40,155,24],[98,42,156,12,"viewablePercentThreshold"],[98,66,156,36],[98,68,157,12,"top"],[98,71,157,15],[98,73,158,12,"bottom"],[98,79,158,18],[98,81,159,12,"viewportHeight"],[98,95,159,26],[98,97,160,12,"metrics"],[98,104,160,19],[98,105,160,20,"length"],[98,111,161,10],[98,112,161,11],[98,114,162,10],[99,14,163,10,"viewableIndices"],[99,29,163,25],[99,30,163,26,"push"],[99,34,163,30],[99,35,163,31,"idx"],[99,38,163,34],[99,39,163,35],[100,12,164,8],[101,10,165,6],[101,11,165,7],[101,17,165,13],[101,21,165,17,"firstVisible"],[101,33,165,29],[101,37,165,33],[101,38,165,34],[101,40,165,36],[102,12,166,8],[103,10,167,6],[104,8,168,4],[105,8,169,4],[105,15,169,11,"viewableIndices"],[105,30,169,26],[106,6,170,2],[108,6,172,2],[109,0,173,0],[110,0,174,0],[111,0,175,0],[112,4,172,2],[113,6,172,2,"key"],[113,9,172,2],[114,6,172,2,"value"],[114,11,172,2],[114,13,176,2],[114,22,176,2,"onUpdate"],[114,30,176,10,"onUpdate"],[114,31,177,4,"props"],[114,36,177,26],[114,38,178,4,"scrollOffset"],[114,50,178,24],[114,52,179,4,"viewportHeight"],[114,66,179,26],[114,68,180,4,"listMetrics"],[114,79,180,38],[114,81,181,4,"createViewToken"],[114,96,185,18],[114,98,186,4,"onViewableItemsChanged"],[114,120,190,14],[115,6,191,4],[116,6,192,4,"renderRange"],[116,17,196,5],[116,19,197,10],[117,8,197,10],[117,12,197,10,"_this"],[117,17,197,10],[118,8,198,4],[118,12,198,10,"itemCount"],[118,21,198,19],[118,24,198,22,"props"],[118,29,198,27],[118,30,198,28,"getItemCount"],[118,42,198,40],[118,43,198,41,"props"],[118,48,198,46],[118,49,198,47,"data"],[118,53,198,51],[118,54,198,52],[119,8,199,4],[119,12,200,7],[119,16,200,11],[119,17,200,12,"_config"],[119,24,200,19],[119,25,200,20,"waitForInteraction"],[119,43,200,38],[119,47,200,42],[119,48,200,43],[119,52,200,47],[119,53,200,48,"_hasInteracted"],[119,67,200,62],[119,71,201,6,"itemCount"],[119,80,201,15],[119,85,201,20],[119,86,201,21],[119,90,202,6],[119,91,202,7,"listMetrics"],[119,102,202,18],[119,103,202,19,"getCellMetrics"],[119,117,202,33],[119,118,202,34],[119,119,202,35],[119,121,202,37,"props"],[119,126,202,42],[119,127,202,43],[119,129,203,6],[120,10,204,6],[121,8,205,4],[122,8,206,4],[122,12,206,8,"viewableIndices"],[122,27,206,38],[122,30,206,41],[122,32,206,43],[123,8,207,4],[123,12,207,8,"itemCount"],[123,21,207,17],[123,23,207,19],[124,10,208,6,"viewableIndices"],[124,25,208,21],[124,28,208,24],[124,32,208,28],[124,33,208,29,"computeViewableItems"],[124,53,208,49],[124,54,209,8,"props"],[124,59,209,13],[124,61,210,8,"scrollOffset"],[124,73,210,20],[124,75,211,8,"viewportHeight"],[124,89,211,22],[124,91,212,8,"listMetrics"],[124,102,212,19],[124,104,213,8,"renderRange"],[124,115,214,6],[124,116,214,7],[125,8,215,4],[126,8,216,4],[126,12,217,6],[126,16,217,10],[126,17,217,11,"_viewableIndices"],[126,33,217,27],[126,34,217,28,"length"],[126,40,217,34],[126,45,217,39,"viewableIndices"],[126,60,217,54],[126,61,217,55,"length"],[126,67,217,61],[126,71,218,6],[126,75,218,10],[126,76,218,11,"_viewableIndices"],[126,92,218,27],[126,93,218,28,"every"],[126,98,218,33],[126,99,218,34],[126,109,218,35,"v"],[126,110,218,36],[126,112,218,38,"ii"],[126,114,218,40],[127,10,218,40],[127,17,218,45,"v"],[127,18,218,46],[127,23,218,51,"viewableIndices"],[127,38,218,66],[127,39,218,67,"ii"],[127,41,218,69],[127,42,218,70],[128,8,218,70],[128,10,218,71],[128,12,219,6],[129,10,220,6],[130,10,221,6],[131,10,222,6],[132,8,223,4],[133,8,224,4],[133,12,224,8],[133,13,224,9,"_viewableIndices"],[133,29,224,25],[133,32,224,28,"viewableIndices"],[133,47,224,43],[134,8,225,4],[134,12,225,8],[134,16,225,12],[134,17,225,13,"_config"],[134,24,225,20],[134,25,225,21,"minimumViewTime"],[134,40,225,36],[134,42,225,38],[135,10,226,6],[135,14,226,12,"handle"],[135,20,226,29],[135,23,226,32,"setTimeout"],[135,33,226,42],[135,34,226,43],[135,46,226,49],[136,12,227,8],[137,0,228,0],[138,0,229,0],[139,12,230,8,"_this"],[139,17,230,12],[139,18,230,13,"_timers"],[139,25,230,20],[139,26,230,21,"delete"],[139,32,230,27],[139,33,230,28,"handle"],[139,39,230,34],[139,40,230,35],[140,12,231,8,"_this"],[140,17,231,12],[140,18,231,13,"_onUpdateSync"],[140,31,231,26],[140,32,232,10,"props"],[140,37,232,15],[140,39,233,10,"viewableIndices"],[140,54,233,25],[140,56,234,10,"onViewableItemsChanged"],[140,78,234,32],[140,80,235,10,"createViewToken"],[140,95,236,8],[140,96,236,9],[141,10,237,6],[141,11,237,7],[141,13,237,9],[141,17,237,13],[141,18,237,14,"_config"],[141,25,237,21],[141,26,237,22,"minimumViewTime"],[141,41,237,37],[141,42,237,38],[142,10,238,6],[143,0,239,0],[144,0,240,0],[145,10,241,6],[145,14,241,10],[145,15,241,11,"_timers"],[145,22,241,18],[145,23,241,19,"add"],[145,26,241,22],[145,27,241,23,"handle"],[145,33,241,29],[145,34,241,30],[146,8,242,4],[146,9,242,5],[146,15,242,11],[147,10,243,6],[147,14,243,10],[147,15,243,11,"_onUpdateSync"],[147,28,243,24],[147,29,244,8,"props"],[147,34,244,13],[147,36,245,8,"viewableIndices"],[147,51,245,23],[147,53,246,8,"onViewableItemsChanged"],[147,75,246,30],[147,77,247,8,"createViewToken"],[147,92,248,6],[147,93,248,7],[148,8,249,4],[149,6,250,2],[151,6,252,2],[152,0,253,0],[153,0,254,0],[154,4,252,2],[155,6,252,2,"key"],[155,9,252,2],[156,6,252,2,"value"],[156,11,252,2],[156,13,255,2],[156,22,255,2,"resetViewableIndices"],[156,42,255,22,"resetViewableIndices"],[156,43,255,22],[156,45,255,25],[157,8,256,4],[157,12,256,8],[157,13,256,9,"_viewableIndices"],[157,29,256,25],[157,32,256,28],[157,34,256,30],[158,6,257,2],[160,6,259,2],[161,0,260,0],[162,0,261,0],[163,4,259,2],[164,6,259,2,"key"],[164,9,259,2],[165,6,259,2,"value"],[165,11,259,2],[165,13,262,2],[165,22,262,2,"recordInteraction"],[165,39,262,19,"recordInteraction"],[165,40,262,19],[165,42,262,22],[166,8,263,4],[166,12,263,8],[166,13,263,9,"_hasInteracted"],[166,27,263,23],[166,30,263,26],[166,34,263,30],[167,6,264,2],[168,4,264,3],[169,6,264,3,"key"],[169,9,264,3],[170,6,264,3,"value"],[170,11,264,3],[170,13,266,2],[170,22,266,2,"_onUpdateSync"],[170,35,266,15,"_onUpdateSync"],[170,36,267,4,"props"],[170,41,267,26],[170,43,268,4,"viewableIndicesToCheck"],[170,65,268,41],[170,67,269,4,"onViewableItemsChanged"],[170,89,273,14],[170,91,274,4,"createViewToken"],[170,106,278,18],[170,108,279,4],[171,8,279,4],[171,12,279,4,"_this2"],[171,18,279,4],[172,8,280,4],[173,8,281,4,"viewableIndicesToCheck"],[173,30,281,26],[173,33,281,29,"viewableIndicesToCheck"],[173,55,281,51],[173,56,281,52,"filter"],[173,62,281,58],[173,63,281,59],[173,73,281,59,"ii"],[173,75,281,61],[174,10,281,61],[174,17,282,6,"_this2"],[174,23,282,10],[174,24,282,11,"_viewableIndices"],[174,40,282,27],[174,41,282,28,"includes"],[174,49,282,36],[174,50,282,37,"ii"],[174,52,282,39],[174,53,282,40],[175,8,282,40],[175,9,283,4],[175,10,283,5],[176,8,284,4],[176,12,284,10,"prevItems"],[176,21,284,19],[176,24,284,22],[176,28,284,26],[176,29,284,27,"_viewableItems"],[176,43,284,41],[177,8,285,4],[177,12,285,10,"nextItems"],[177,21,285,19],[177,24,285,22],[177,28,285,26,"Map"],[177,31,285,29],[177,32,286,6,"viewableIndicesToCheck"],[177,54,286,28],[177,55,286,29,"map"],[177,58,286,32],[177,59,286,33],[177,69,286,33,"ii"],[177,71,286,35],[177,73,286,39],[178,10,287,8],[178,14,287,14,"viewable"],[178,22,287,22],[178,25,287,25,"createViewToken"],[178,40,287,40],[178,41,287,41,"ii"],[178,43,287,43],[178,45,287,45],[178,49,287,49],[178,51,287,51,"props"],[178,56,287,56],[178,57,287,57],[179,10,288,8],[179,17,288,15],[179,18,288,16,"viewable"],[179,26,288,24],[179,27,288,25,"key"],[179,30,288,28],[179,32,288,30,"viewable"],[179,40,288,38],[179,41,288,39],[180,8,289,6],[180,9,289,7],[180,10,290,4],[180,11,290,5],[181,8,292,4],[181,12,292,10,"changed"],[181,19,292,17],[181,22,292,20],[181,24,292,22],[182,8,293,4],[182,17,293,4,"_ref2"],[182,22,293,4],[182,26,293,34,"nextItems"],[182,35,293,43],[182,37,293,45],[183,10,293,45],[183,14,293,45,"_ref3"],[183,19,293,45],[183,26,293,45,"_slicedToArray2"],[183,41,293,45],[183,42,293,45,"default"],[183,49,293,45],[183,51,293,45,"_ref2"],[183,56,293,45],[184,10,293,45],[184,14,293,16,"key"],[184,17,293,19],[184,20,293,19,"_ref3"],[184,25,293,19],[185,10,293,19],[185,14,293,21,"viewable"],[185,22,293,29],[185,25,293,29,"_ref3"],[185,30,293,29],[186,10,294,6],[186,14,294,10],[186,15,294,11,"prevItems"],[186,24,294,20],[186,25,294,21,"has"],[186,28,294,24],[186,29,294,25,"key"],[186,32,294,28],[186,33,294,29],[186,35,294,31],[187,12,295,8,"changed"],[187,19,295,15],[187,20,295,16,"push"],[187,24,295,20],[187,25,295,21,"viewable"],[187,33,295,29],[187,34,295,30],[188,10,296,6],[189,8,297,4],[190,8,298,4],[190,17,298,4,"_ref4"],[190,22,298,4],[190,26,298,34,"prevItems"],[190,35,298,43],[190,37,298,45],[191,10,298,45],[191,14,298,45,"_ref5"],[191,19,298,45],[191,26,298,45,"_slicedToArray2"],[191,41,298,45],[191,42,298,45,"default"],[191,49,298,45],[191,51,298,45,"_ref4"],[191,56,298,45],[192,10,298,45],[192,14,298,16,"key"],[192,18,298,19],[192,21,298,19,"_ref5"],[192,26,298,19],[193,10,298,19],[193,14,298,21,"viewable"],[193,23,298,29],[193,26,298,29,"_ref5"],[193,31,298,29],[194,10,299,6],[194,14,299,10],[194,15,299,11,"nextItems"],[194,24,299,20],[194,25,299,21,"has"],[194,28,299,24],[194,29,299,25,"key"],[194,33,299,28],[194,34,299,29],[194,36,299,31],[195,12,300,8,"changed"],[195,19,300,15],[195,20,300,16,"push"],[195,24,300,20],[195,25,300,20,"Object"],[195,31,300,20],[195,32,300,20,"assign"],[195,38,300,20],[195,43,300,25,"viewable"],[195,52,300,33],[196,14,300,35,"isViewable"],[196,24,300,45],[196,26,300,47],[197,12,300,52],[197,14,300,53],[197,15,300,54],[198,10,301,6],[199,8,302,4],[200,8,303,4],[200,12,303,8,"changed"],[200,19,303,15],[200,20,303,16,"length"],[200,26,303,22],[200,29,303,25],[200,30,303,26],[200,32,303,28],[201,10,304,6],[201,14,304,10],[201,15,304,11,"_viewableItems"],[201,29,304,25],[201,32,304,28,"nextItems"],[201,41,304,37],[202,10,305,6,"onViewableItemsChanged"],[202,32,305,28],[202,33,305,29],[203,12,306,8,"viewableItems"],[203,25,306,21],[203,27,306,23,"Array"],[203,32,306,28],[203,33,306,29,"from"],[203,37,306,33],[203,38,306,34,"nextItems"],[203,47,306,43],[203,48,306,44,"values"],[203,54,306,50],[203,55,306,51],[203,56,306,52],[203,57,306,53],[204,12,307,8,"changed"],[204,19,307,15],[204,21,307,8,"changed"],[204,28,307,15],[205,12,308,8,"viewabilityConfig"],[205,29,308,25],[205,31,308,27],[205,35,308,31],[205,36,308,32,"_config"],[206,10,309,6],[206,11,309,7],[206,12,309,8],[207,8,310,4],[208,6,311,2],[209,4,311,3],[210,2,311,3],[211,2,314,0],[211,11,314,9,"_isViewable"],[211,22,314,20,"_isViewable"],[211,23,315,2,"viewAreaMode"],[211,35,315,23],[211,37,316,2,"viewablePercentThreshold"],[211,61,316,34],[211,63,317,2,"top"],[211,66,317,13],[211,68,318,2,"bottom"],[211,74,318,16],[211,76,319,2,"viewportHeight"],[211,90,319,24],[211,92,320,2,"itemLength"],[211,102,320,20],[211,104,321,11],[212,4,322,2],[212,8,322,6,"_isEntirelyVisible"],[212,26,322,24],[212,27,322,25,"top"],[212,30,322,28],[212,32,322,30,"bottom"],[212,38,322,36],[212,40,322,38,"viewportHeight"],[212,54,322,52],[212,55,322,53],[212,57,322,55],[213,6,323,4],[213,13,323,11],[213,17,323,15],[214,4,324,2],[214,5,324,3],[214,11,324,9],[215,6,325,4],[215,10,325,10,"pixels"],[215,16,325,16],[215,19,325,19,"_getPixelsVisible"],[215,36,325,36],[215,37,325,37,"top"],[215,40,325,40],[215,42,325,42,"bottom"],[215,48,325,48],[215,50,325,50,"viewportHeight"],[215,64,325,64],[215,65,325,65],[216,6,326,4],[216,10,326,10,"percent"],[216,17,326,17],[216,20,327,6],[216,23,327,9],[216,27,327,13,"viewAreaMode"],[216,39,327,25],[216,42,327,28,"pixels"],[216,48,327,34],[216,51,327,37,"viewportHeight"],[216,65,327,51],[216,68,327,54,"pixels"],[216,74,327,60],[216,77,327,63,"itemLength"],[216,87,327,73],[216,88,327,74],[217,6,328,4],[217,13,328,11,"percent"],[217,20,328,18],[217,24,328,22,"viewablePercentThreshold"],[217,48,328,46],[218,4,329,2],[219,2,330,0],[220,2,332,0],[220,11,332,9,"_getPixelsVisible"],[220,28,332,26,"_getPixelsVisible"],[220,29,333,2,"top"],[220,32,333,13],[220,34,334,2,"bottom"],[220,40,334,16],[220,42,335,2,"viewportHeight"],[220,56,335,24],[220,58,336,10],[221,4,337,2],[221,8,337,8,"visibleHeight"],[221,21,337,21],[221,24,337,24,"Math"],[221,28,337,28],[221,29,337,29,"min"],[221,32,337,32],[221,33,337,33,"bottom"],[221,39,337,39],[221,41,337,41,"viewportHeight"],[221,55,337,55],[221,56,337,56],[221,59,337,59,"Math"],[221,63,337,63],[221,64,337,64,"max"],[221,67,337,67],[221,68,337,68,"top"],[221,71,337,71],[221,73,337,73],[221,74,337,74],[221,75,337,75],[222,4,338,2],[222,11,338,9,"Math"],[222,15,338,13],[222,16,338,14,"max"],[222,19,338,17],[222,20,338,18],[222,21,338,19],[222,23,338,21,"visibleHeight"],[222,36,338,34],[222,37,338,35],[223,2,339,0],[224,2,341,0],[224,11,341,9,"_isEntirelyVisible"],[224,29,341,27,"_isEntirelyVisible"],[224,30,342,2,"top"],[224,33,342,13],[224,35,343,2,"bottom"],[224,41,343,16],[224,43,344,2,"viewportHeight"],[224,57,344,24],[224,59,345,11],[225,4,346,2],[225,11,346,9,"top"],[225,14,346,12],[225,18,346,16],[225,19,346,17],[225,23,346,21,"bottom"],[225,29,346,27],[225,33,346,31,"viewportHeight"],[225,47,346,45],[225,51,346,49,"bottom"],[225,57,346,55],[225,60,346,58,"top"],[225,63,346,61],[226,2,347,0],[227,2,349,0,"module"],[227,8,349,6],[227,9,349,7,"exports"],[227,16,349,14],[227,19,349,17,"ViewabilityHelper"],[227,36,349,34],[228,0,349,35],[228,3]],"functionMap":{"names":["<global>","ViewabilityHelper","constructor","dispose","computeViewableItems","onUpdate","_viewableIndices.every$argument_0","setTimeout$argument_0","resetViewableIndices","recordInteraction","_onUpdateSync","viewableIndicesToCheck.filter$argument_0","viewableIndicesToCheck.map$argument_0","_isViewable","_getPixelsVisible","_isEntirelyVisible"],"mappings":"AAA;AC8E;ECO;GDI;EEK;GFK;EGK;GHiE;EIM;kCC0C,oCD;2CEQ;OFW;GJa;EOK;GPE;EQK;GRE;ESE;2DCe;wCDC;iCEI;OFG;GTsB;CDC;AaE;CbgB;AcE;CdO;AeE;CfM"}},"type":"js/module"}]}