{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":99,"column":0,"index":2786}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":64},"end":{"line":2,"column":31,"index":95}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationBuilderContext","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":97},"end":{"line":4,"column":66,"index":163}}],"key":"y9eQQdj9MvCs7akL60igi3d/dsI="}},{"name":"./NavigationStateContext","data":{"asyncType":null,"locs":[{"start":{"line":5,"column":0,"index":164},"end":{"line":5,"column":62,"index":226}}],"key":"TdfjuPPN8UAMLY+O68wyv7/xOLM="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useOptionsGetters;\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[1], \"react\"));\n  var _NavigationBuilderContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"./NavigationBuilderContext\"));\n  var _NavigationStateContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./NavigationStateContext\"));\n  function _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\n  function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n  function useOptionsGetters(_ref) {\n    var key = _ref.key,\n      options = _ref.options,\n      navigation = _ref.navigation;\n    var optionsRef = React.useRef(options);\n    var optionsGettersFromChildRef = React.useRef({});\n    var _React$useContext = React.useContext(_NavigationBuilderContext.default),\n      onOptionsChange = _React$useContext.onOptionsChange;\n    var _React$useContext2 = React.useContext(_NavigationStateContext.default),\n      parentAddOptionsGetter = _React$useContext2.addOptionsGetter;\n    var optionsChangeListener = React.useCallback(function () {\n      var _navigation$isFocused;\n      var isFocused = (_navigation$isFocused = navigation == null ? void 0 : navigation.isFocused()) != null ? _navigation$isFocused : true;\n      var hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        var _optionsRef$current;\n        onOptionsChange((_optionsRef$current = optionsRef.current) != null ? _optionsRef$current : {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(function () {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation == null ? void 0 : navigation.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    var getOptionsFromListener = React.useCallback(function () {\n      for (var _key in optionsGettersFromChildRef.current) {\n        if (optionsGettersFromChildRef.current.hasOwnProperty(_key)) {\n          var _optionsGettersFromCh, _optionsGettersFromCh2;\n          var result = (_optionsGettersFromCh = (_optionsGettersFromCh2 = optionsGettersFromChildRef.current)[_key]) == null ? void 0 : _optionsGettersFromCh.call(_optionsGettersFromCh2);\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    var getCurrentOptions = React.useCallback(function () {\n      var _navigation$isFocused2;\n      var isFocused = (_navigation$isFocused2 = navigation == null ? void 0 : navigation.isFocused()) != null ? _navigation$isFocused2 : true;\n      if (!isFocused) {\n        return null;\n      }\n      var optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(function () {\n      return parentAddOptionsGetter == null ? void 0 : parentAddOptionsGetter(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    var addOptionsGetter = React.useCallback(function (key, getter) {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return function () {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter: addOptionsGetter,\n      getCurrentOptions: getCurrentOptions\n    };\n  }\n});","lineCount":79,"map":[[7,2,2,0],[7,6,2,0,"React"],[7,11,2,0],[7,14,2,0,"_interopRequireWildcard"],[7,37,2,0],[7,38,2,0,"_$$_REQUIRE"],[7,49,2,0],[7,50,2,0,"_dependencyMap"],[7,64,2,0],[8,2,4,0],[8,6,4,0,"_NavigationBuilderContext"],[8,31,4,0],[8,34,4,0,"_interopRequireDefault"],[8,56,4,0],[8,57,4,0,"_$$_REQUIRE"],[8,68,4,0],[8,69,4,0,"_dependencyMap"],[8,83,4,0],[9,2,5,0],[9,6,5,0,"_NavigationStateContext"],[9,29,5,0],[9,32,5,0,"_interopRequireDefault"],[9,54,5,0],[9,55,5,0,"_$$_REQUIRE"],[9,66,5,0],[9,67,5,0,"_dependencyMap"],[9,81,5,0],[10,2,5,62],[10,11,5,62,"_getRequireWildcardCache"],[10,36,5,62,"e"],[10,37,5,62],[10,66,5,62,"WeakMap"],[10,73,5,62],[10,92,5,62,"r"],[10,93,5,62],[10,100,5,62,"WeakMap"],[10,107,5,62],[10,111,5,62,"t"],[10,112,5,62],[10,119,5,62,"WeakMap"],[10,126,5,62],[10,138,5,62,"_getRequireWildcardCache"],[10,162,5,62],[10,174,5,62,"_getRequireWildcardCache"],[10,199,5,62,"e"],[10,200,5,62],[10,211,5,62,"e"],[10,212,5,62],[10,215,5,62,"t"],[10,216,5,62],[10,219,5,62,"r"],[10,220,5,62],[10,225,5,62,"e"],[10,226,5,62],[11,2,5,62],[11,11,5,62,"_interopRequireWildcard"],[11,35,5,62,"e"],[11,36,5,62],[11,38,5,62,"r"],[11,39,5,62],[11,48,5,62,"r"],[11,49,5,62],[11,53,5,62,"e"],[11,54,5,62],[11,58,5,62,"e"],[11,59,5,62],[11,60,5,62,"__esModule"],[11,70,5,62],[11,79,5,62,"e"],[11,80,5,62],[11,95,5,62,"e"],[11,96,5,62],[11,119,5,62,"e"],[11,120,5,62],[11,145,5,62,"e"],[11,146,5,62],[11,157,5,62,"default"],[11,164,5,62],[11,166,5,62,"e"],[11,167,5,62],[11,175,5,62,"t"],[11,176,5,62],[11,179,5,62,"_getRequireWildcardCache"],[11,203,5,62],[11,204,5,62,"r"],[11,205,5,62],[11,212,5,62,"t"],[11,213,5,62],[11,217,5,62,"t"],[11,218,5,62],[11,219,5,62,"has"],[11,222,5,62],[11,223,5,62,"e"],[11,224,5,62],[11,234,5,62,"t"],[11,235,5,62],[11,236,5,62,"get"],[11,239,5,62],[11,240,5,62,"e"],[11,241,5,62],[11,248,5,62,"n"],[11,249,5,62],[11,254,5,62,"__proto__"],[11,263,5,62],[11,273,5,62,"a"],[11,274,5,62],[11,277,5,62,"Object"],[11,283,5,62],[11,284,5,62,"defineProperty"],[11,298,5,62],[11,302,5,62,"Object"],[11,308,5,62],[11,309,5,62,"getOwnPropertyDescriptor"],[11,333,5,62],[11,344,5,62,"u"],[11,345,5,62],[11,349,5,62,"e"],[11,350,5,62],[11,370,5,62,"u"],[11,371,5,62],[11,378,5,62,"hasOwnProperty"],[11,392,5,62],[11,393,5,62,"call"],[11,397,5,62],[11,398,5,62,"e"],[11,399,5,62],[11,401,5,62,"u"],[11,402,5,62],[11,411,5,62,"i"],[11,412,5,62],[11,415,5,62,"a"],[11,416,5,62],[11,419,5,62,"Object"],[11,425,5,62],[11,426,5,62,"getOwnPropertyDescriptor"],[11,450,5,62],[11,451,5,62,"e"],[11,452,5,62],[11,454,5,62,"u"],[11,455,5,62],[11,465,5,62,"i"],[11,466,5,62],[11,471,5,62,"i"],[11,472,5,62],[11,473,5,62,"get"],[11,476,5,62],[11,480,5,62,"i"],[11,481,5,62],[11,482,5,62,"set"],[11,485,5,62],[11,489,5,62,"Object"],[11,495,5,62],[11,496,5,62,"defineProperty"],[11,510,5,62],[11,511,5,62,"n"],[11,512,5,62],[11,514,5,62,"u"],[11,515,5,62],[11,517,5,62,"i"],[11,518,5,62],[11,522,5,62,"n"],[11,523,5,62],[11,524,5,62,"u"],[11,525,5,62],[11,529,5,62,"e"],[11,530,5,62],[11,531,5,62,"u"],[11,532,5,62],[11,544,5,62,"n"],[11,545,5,62],[11,546,5,62,"default"],[11,553,5,62],[11,556,5,62,"e"],[11,557,5,62],[11,559,5,62,"t"],[11,560,5,62],[11,564,5,62,"t"],[11,565,5,62],[11,566,5,62,"set"],[11,569,5,62],[11,570,5,62,"e"],[11,571,5,62],[11,573,5,62,"n"],[11,574,5,62],[11,577,5,62,"n"],[11,578,5,62],[12,2,14,15],[12,11,14,24,"useOptionsGetters"],[12,28,14,41,"useOptionsGetters"],[12,29,14,41,"_ref"],[12,33,14,41],[12,35,18,12],[13,4,18,12],[13,8,15,2,"key"],[13,11,15,5],[13,14,15,5,"_ref"],[13,18,15,5],[13,19,15,2,"key"],[13,22,15,5],[14,6,16,2,"options"],[14,13,16,9],[14,16,16,9,"_ref"],[14,20,16,9],[14,21,16,2,"options"],[14,28,16,9],[15,6,17,2,"navigation"],[15,16,17,12],[15,19,17,12,"_ref"],[15,23,17,12],[15,24,17,2,"navigation"],[15,34,17,12],[16,4,19,2],[16,8,19,8,"optionsRef"],[16,18,19,18],[16,21,19,21,"React"],[16,26,19,26],[16,27,19,27,"useRef"],[16,33,19,33],[16,34,19,54,"options"],[16,41,19,61],[16,42,19,62],[17,4,20,2],[17,8,20,8,"optionsGettersFromChildRef"],[17,34,20,34],[17,37,20,37,"React"],[17,42,20,42],[17,43,20,43,"useRef"],[17,49,20,49],[17,50,22,4],[17,51,22,5],[17,52,22,6],[17,53,22,7],[18,4,24,2],[18,8,24,2,"_React$useContext"],[18,25,24,2],[18,28,24,30,"React"],[18,33,24,35],[18,34,24,36,"useContext"],[18,44,24,46],[18,45,24,47,"NavigationBuilderContext"],[18,78,24,71],[18,79,24,72],[19,6,24,10,"onOptionsChange"],[19,21,24,25],[19,24,24,25,"_React$useContext"],[19,41,24,25],[19,42,24,10,"onOptionsChange"],[19,57,24,25],[20,4,25,2],[20,8,25,2,"_React$useContext2"],[20,26,25,2],[20,29,25,55,"React"],[20,34,25,60],[20,35,25,61,"useContext"],[20,45,25,71],[20,46,26,4,"NavigationStateContext"],[20,77,27,2],[20,78,27,3],[21,6,25,28,"parentAddOptionsGetter"],[21,28,25,50],[21,31,25,50,"_React$useContext2"],[21,49,25,50],[21,50,25,10,"addOptionsGetter"],[21,66,25,26],[22,4,29,2],[22,8,29,8,"optionsChangeListener"],[22,29,29,29],[22,32,29,32,"React"],[22,37,29,37],[22,38,29,38,"useCallback"],[22,49,29,49],[22,50,29,50],[22,62,29,56],[23,6,29,56],[23,10,29,56,"_navigation$isFocused"],[23,31,29,56],[24,6,30,4],[24,10,30,10,"isFocused"],[24,19,30,19],[24,23,30,19,"_navigation$isFocused"],[24,44,30,19],[24,47,30,22,"navigation"],[24,57,30,32],[24,77,30,22,"navigation"],[24,87,30,32],[24,88,30,34,"isFocused"],[24,97,30,43],[24,98,30,44],[24,99,30,45],[24,111,30,45,"_navigation$isFocused"],[24,132,30,45],[24,135,30,49],[24,139,30,53],[25,6,31,4],[25,10,31,10,"hasChildren"],[25,21,31,21],[25,24,31,24,"Object"],[25,30,31,30],[25,31,31,31,"keys"],[25,35,31,35],[25,36,31,36,"optionsGettersFromChildRef"],[25,62,31,62],[25,63,31,63,"current"],[25,70,31,70],[25,71,31,71],[25,72,31,72,"length"],[25,78,31,78],[26,6,33,4],[26,10,33,8,"isFocused"],[26,19,33,17],[26,23,33,21],[26,24,33,22,"hasChildren"],[26,35,33,33],[26,37,33,35],[27,8,33,35],[27,12,33,35,"_optionsRef$current"],[27,31,33,35],[28,8,34,6,"onOptionsChange"],[28,23,34,21],[28,25,34,21,"_optionsRef$current"],[28,44,34,21],[28,47,34,22,"optionsRef"],[28,57,34,32],[28,58,34,33,"current"],[28,65,34,40],[28,77,34,40,"_optionsRef$current"],[28,96,34,40],[28,99,34,44],[28,100,34,45],[28,101,34,46],[28,102,34,47],[29,6,35,4],[30,4,36,2],[30,5,36,3],[30,7,36,5],[30,8,36,6,"navigation"],[30,18,36,16],[30,20,36,18,"onOptionsChange"],[30,35,36,33],[30,36,36,34],[30,37,36,35],[31,4,38,2,"React"],[31,9,38,7],[31,10,38,8,"useEffect"],[31,19,38,17],[31,20,38,18],[31,32,38,24],[32,6,39,4,"optionsRef"],[32,16,39,14],[32,17,39,15,"current"],[32,24,39,22],[32,27,39,25,"options"],[32,34,39,32],[33,6,40,4,"optionsChangeListener"],[33,27,40,25],[33,28,40,26],[33,29,40,27],[34,6,42,4],[34,13,42,11,"navigation"],[34,23,42,21],[34,43,42,11,"navigation"],[34,53,42,21],[34,54,42,23,"addListener"],[34,65,42,34],[34,66,42,35],[34,73,42,42],[34,75,42,44,"optionsChangeListener"],[34,96,42,65],[34,97,42,66],[35,4,43,2],[35,5,43,3],[35,7,43,5],[35,8,43,6,"navigation"],[35,18,43,16],[35,20,43,18,"options"],[35,27,43,25],[35,29,43,27,"optionsChangeListener"],[35,50,43,48],[35,51,43,49],[35,52,43,50],[36,4,45,2],[36,8,45,8,"getOptionsFromListener"],[36,30,45,30],[36,33,45,33,"React"],[36,38,45,38],[36,39,45,39,"useCallback"],[36,50,45,50],[36,51,45,51],[36,63,45,57],[37,6,46,4],[37,11,46,9],[37,15,46,13,"key"],[37,19,46,16],[37,23,46,20,"optionsGettersFromChildRef"],[37,49,46,46],[37,50,46,47,"current"],[37,57,46,54],[37,59,46,56],[38,8,47,6],[38,12,47,10,"optionsGettersFromChildRef"],[38,38,47,36],[38,39,47,37,"current"],[38,46,47,44],[38,47,47,45,"hasOwnProperty"],[38,61,47,59],[38,62,47,60,"key"],[38,66,47,63],[38,67,47,64],[38,69,47,66],[39,10,47,66],[39,14,47,66,"_optionsGettersFromCh"],[39,35,47,66],[39,37,47,66,"_optionsGettersFromCh2"],[39,59,47,66],[40,10,48,8],[40,14,48,14,"result"],[40,20,48,20],[40,24,48,20,"_optionsGettersFromCh"],[40,45,48,20],[40,48,48,23],[40,49,48,23,"_optionsGettersFromCh2"],[40,71,48,23],[40,74,48,23,"optionsGettersFromChildRef"],[40,100,48,49],[40,101,48,50,"current"],[40,108,48,57],[40,110,48,58,"key"],[40,114,48,61],[40,115,48,62],[40,136,48,23,"_optionsGettersFromCh"],[40,157,48,23],[40,158,48,23,"call"],[40,162,48,23],[40,163,48,23,"_optionsGettersFromCh2"],[40,185,48,65],[40,186,48,66],[42,10,50,8],[43,10,51,8],[43,14,51,12,"result"],[43,20,51,18],[43,25,51,23],[43,29,51,27],[43,31,51,29],[44,12,52,10],[44,19,52,17,"result"],[44,25,52,23],[45,10,53,8],[46,8,54,6],[47,6,55,4],[48,6,57,4],[48,13,57,11],[48,17,57,15],[49,4,58,2],[49,5,58,3],[49,7,58,5],[49,9,58,7],[49,10,58,8],[50,4,60,2],[50,8,60,8,"getCurrentOptions"],[50,25,60,25],[50,28,60,28,"React"],[50,33,60,33],[50,34,60,34,"useCallback"],[50,45,60,45],[50,46,60,46],[50,58,60,52],[51,6,60,52],[51,10,60,52,"_navigation$isFocused2"],[51,32,60,52],[52,6,61,4],[52,10,61,10,"isFocused"],[52,19,61,19],[52,23,61,19,"_navigation$isFocused2"],[52,45,61,19],[52,48,61,22,"navigation"],[52,58,61,32],[52,78,61,22,"navigation"],[52,88,61,32],[52,89,61,34,"isFocused"],[52,98,61,43],[52,99,61,44],[52,100,61,45],[52,112,61,45,"_navigation$isFocused2"],[52,134,61,45],[52,137,61,49],[52,141,61,53],[53,6,63,4],[53,10,63,8],[53,11,63,9,"isFocused"],[53,20,63,18],[53,22,63,20],[54,8,64,6],[54,15,64,13],[54,19,64,17],[55,6,65,4],[56,6,67,4],[56,10,67,10,"optionsFromListener"],[56,29,67,29],[56,32,67,32,"getOptionsFromListener"],[56,54,67,54],[56,55,67,55],[56,56,67,56],[57,6,69,4],[57,10,69,8,"optionsFromListener"],[57,29,69,27],[57,34,69,32],[57,38,69,36],[57,40,69,38],[58,8,70,6],[58,15,70,13,"optionsFromListener"],[58,34,70,32],[59,6,71,4],[60,6,73,4],[60,13,73,11,"optionsRef"],[60,23,73,21],[60,24,73,22,"current"],[60,31,73,29],[61,4,74,2],[61,5,74,3],[61,7,74,5],[61,8,74,6,"navigation"],[61,18,74,16],[61,20,74,18,"getOptionsFromListener"],[61,42,74,40],[61,43,74,41],[61,44,74,42],[62,4,76,2,"React"],[62,9,76,7],[62,10,76,8,"useEffect"],[62,19,76,17],[62,20,76,18],[62,32,76,24],[63,6,77,4],[63,13,77,11,"parentAddOptionsGetter"],[63,35,77,33],[63,55,77,11,"parentAddOptionsGetter"],[63,77,77,33],[63,78,77,36,"key"],[63,81,77,39],[63,83,77,42,"getCurrentOptions"],[63,100,77,59],[63,101,77,60],[64,4,78,2],[64,5,78,3],[64,7,78,5],[64,8,78,6,"getCurrentOptions"],[64,25,78,23],[64,27,78,25,"parentAddOptionsGetter"],[64,49,78,47],[64,51,78,49,"key"],[64,54,78,52],[64,55,78,53],[64,56,78,54],[65,4,80,2],[65,8,80,8,"addOptionsGetter"],[65,24,80,24],[65,27,80,27,"React"],[65,32,80,32],[65,33,80,33,"useCallback"],[65,44,80,44],[65,45,81,4],[65,55,81,5,"key"],[65,58,81,16],[65,60,81,18,"getter"],[65,66,81,57],[65,68,81,62],[66,6,82,6,"optionsGettersFromChildRef"],[66,32,82,32],[66,33,82,33,"current"],[66,40,82,40],[66,41,82,41,"key"],[66,44,82,44],[66,45,82,45],[66,48,82,48,"getter"],[66,54,82,54],[67,6,83,6,"optionsChangeListener"],[67,27,83,27],[67,28,83,28],[67,29,83,29],[68,6,85,6],[68,13,85,13],[68,25,85,19],[69,8,86,8],[70,8,87,8],[70,15,87,15,"optionsGettersFromChildRef"],[70,41,87,41],[70,42,87,42,"current"],[70,49,87,49],[70,50,87,50,"key"],[70,53,87,53],[70,54,87,54],[71,8,88,8,"optionsChangeListener"],[71,29,88,29],[71,30,88,30],[71,31,88,31],[72,6,89,6],[72,7,89,7],[73,4,90,4],[73,5,90,5],[73,7,91,4],[73,8,91,5,"optionsChangeListener"],[73,29,91,26],[73,30,92,2],[73,31,92,3],[74,4,94,2],[74,11,94,9],[75,6,95,4,"addOptionsGetter"],[75,22,95,20],[75,24,95,4,"addOptionsGetter"],[75,40,95,20],[76,6,96,4,"getCurrentOptions"],[76,23,96,21],[76,25,96,4,"getCurrentOptions"],[77,4,97,2],[77,5,97,3],[78,2,98,0],[79,0,98,1],[79,3]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;eCa;kDCe;GDO;kBEE;GFK;mDGE;GHa;8CIE;GJc;kBEE;GFE;IKG;aCI;ODI;KLC;CDQ"}},"type":"js/module"}]}