{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":127,"column":0,"index":3703}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":127,"column":0,"index":3703}}],"key":"XnmB3YjhLQUu4Gtg+kalDAx6bCo="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":127,"column":0,"index":3703}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":127,"column":0,"index":3703}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"../NativeAnimatedHelper","data":{"asyncType":null,"locs":[{"start":{"line":17,"column":0,"index":406},"end":{"line":17,"column":59,"index":465}}],"key":"1ezhP5tF6Z9mOXoBZysNLcWfZtg="}},{"name":"../nodes/AnimatedProps","data":{"asyncType":null,"locs":[{"start":{"line":18,"column":0,"index":466},"end":{"line":18,"column":51,"index":517}}],"key":"b5tA9uVU8NDfoB47WehpgCijIe8="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _toConsumableArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/toConsumableArray\"));\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/createClass\"));\n  var _NativeAnimatedHelper = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"../NativeAnimatedHelper\"));\n  var _AnimatedProps = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"../nodes/AnimatedProps\"));\n  var startNativeAnimationNextId = 1;\n\n  // Important note: start() and stop() will only be called at most once.\n  // Once an animation has been stopped or finished its course, it will\n  // not be reused.\n  var Animation = exports.default = /*#__PURE__*/function () {\n    function Animation() {\n      (0, _classCallCheck2.default)(this, Animation);\n    }\n    return (0, _createClass2.default)(Animation, [{\n      key: \"start\",\n      value: function start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {}\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        if (this._nativeId) {\n          _NativeAnimatedHelper.default.API.stopAnimation(this._nativeId);\n        }\n      }\n    }, {\n      key: \"__getNativeAnimationConfig\",\n      value: function __getNativeAnimationConfig() {\n        // Subclasses that have corresponding animation implementation done in native\n        // should override this method\n        throw new Error('This animation type cannot be offloaded to native');\n      }\n\n      // Helper function for subclasses to make sure onEnd is only called once.\n    }, {\n      key: \"__debouncedOnEnd\",\n      value: function __debouncedOnEnd(result) {\n        var onEnd = this.__onEnd;\n        this.__onEnd = null;\n        onEnd && onEnd(result);\n      }\n    }, {\n      key: \"__findAnimatedPropsNodes\",\n      value: function __findAnimatedPropsNodes(node) {\n        var result = [];\n        if (node instanceof _AnimatedProps.default) {\n          result.push(node);\n          return result;\n        }\n        for (var child of node.__getChildren()) {\n          result.push.apply(result, (0, _toConsumableArray2.default)(this.__findAnimatedPropsNodes(child)));\n        }\n        return result;\n      }\n    }, {\n      key: \"__startNativeAnimation\",\n      value: function __startNativeAnimation(animatedValue) {\n        var _this = this;\n        var startNativeAnimationWaitId = `${startNativeAnimationNextId}:startAnimation`;\n        startNativeAnimationNextId += 1;\n        _NativeAnimatedHelper.default.API.setWaitingForIdentifier(startNativeAnimationWaitId);\n        try {\n          var config = this.__getNativeAnimationConfig();\n          animatedValue.__makeNative(config.platformConfig);\n          this._nativeId = _NativeAnimatedHelper.default.generateNewAnimationId();\n          _NativeAnimatedHelper.default.API.startAnimatingNode(this._nativeId, animatedValue.__getNativeTag(), config, function (result) {\n            _this.__debouncedOnEnd(result);\n\n            // When using natively driven animations, once the animation completes,\n            // we need to ensure that the JS side nodes are synced with the updated\n            // values.\n            var value = result.value;\n            if (value != null) {\n              animatedValue.__onAnimatedValueUpdateReceived(value);\n\n              // Once the JS side node is synced with the updated values, trigger an\n              // update on the AnimatedProps nodes to call any registered callbacks.\n              _this.__findAnimatedPropsNodes(animatedValue).forEach(function (node) {\n                return node.update();\n              });\n            }\n          });\n        } catch (e) {\n          throw e;\n        } finally {\n          _NativeAnimatedHelper.default.API.unsetWaitingForIdentifier(startNativeAnimationWaitId);\n        }\n      }\n    }]);\n  }();\n});","lineCount":108,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,11,13],[14,6,11,13,"_interopRequireDefault"],[14,28,11,13],[14,31,11,13,"_$$_REQUIRE"],[14,42,11,13],[14,43,11,13,"_dependencyMap"],[14,57,11,13],[15,2,11,13,"Object"],[15,8,11,13],[15,9,11,13,"defineProperty"],[15,23,11,13],[15,24,11,13,"exports"],[15,31,11,13],[16,4,11,13,"value"],[16,9,11,13],[17,2,11,13],[18,2,11,13,"exports"],[18,9,11,13],[18,10,11,13,"default"],[18,17,11,13],[19,2,11,13],[19,6,11,13,"_toConsumableArray2"],[19,25,11,13],[19,28,11,13,"_interopRequireDefault"],[19,50,11,13],[19,51,11,13,"_$$_REQUIRE"],[19,62,11,13],[19,63,11,13,"_dependencyMap"],[19,77,11,13],[20,2,11,13],[20,6,11,13,"_classCallCheck2"],[20,22,11,13],[20,25,11,13,"_interopRequireDefault"],[20,47,11,13],[20,48,11,13,"_$$_REQUIRE"],[20,59,11,13],[20,60,11,13,"_dependencyMap"],[20,74,11,13],[21,2,11,13],[21,6,11,13,"_createClass2"],[21,19,11,13],[21,22,11,13,"_interopRequireDefault"],[21,44,11,13],[21,45,11,13,"_$$_REQUIRE"],[21,56,11,13],[21,57,11,13,"_dependencyMap"],[21,71,11,13],[22,2,17,0],[22,6,17,0,"_NativeAnimatedHelper"],[22,27,17,0],[22,30,17,0,"_interopRequireDefault"],[22,52,17,0],[22,53,17,0,"_$$_REQUIRE"],[22,64,17,0],[22,65,17,0,"_dependencyMap"],[22,79,17,0],[23,2,18,0],[23,6,18,0,"_AnimatedProps"],[23,20,18,0],[23,23,18,0,"_interopRequireDefault"],[23,45,18,0],[23,46,18,0,"_$$_REQUIRE"],[23,57,18,0],[23,58,18,0,"_dependencyMap"],[23,72,18,0],[24,2,31,0],[24,6,31,4,"startNativeAnimationNextId"],[24,32,31,30],[24,35,31,33],[24,36,31,34],[26,2,33,0],[27,2,34,0],[28,2,35,0],[29,2,35,0],[29,6,36,21,"Animation"],[29,15,36,30],[29,18,36,30,"exports"],[29,25,36,30],[29,26,36,30,"default"],[29,33,36,30],[30,4,36,30],[30,13,36,30,"Animation"],[30,23,36,30],[31,6,36,30],[31,10,36,30,"_classCallCheck2"],[31,26,36,30],[31,27,36,30,"default"],[31,34,36,30],[31,42,36,30,"Animation"],[31,51,36,30],[32,4,36,30],[33,4,36,30],[33,15,36,30,"_createClass2"],[33,28,36,30],[33,29,36,30,"default"],[33,36,36,30],[33,38,36,30,"Animation"],[33,47,36,30],[34,6,36,30,"key"],[34,9,36,30],[35,6,36,30,"value"],[35,11,36,30],[35,13,44,2],[35,22,44,2,"start"],[35,27,44,7,"start"],[35,28,45,4,"fromValue"],[35,37,45,21],[35,39,46,4,"onUpdate"],[35,47,46,37],[35,49,47,4,"onEnd"],[35,54,47,23],[35,56,48,4,"previousAnimation"],[35,73,48,33],[35,75,49,4,"animatedValue"],[35,88,49,32],[35,90,50,10],[35,91,50,11],[36,4,50,12],[37,6,50,12,"key"],[37,9,50,12],[38,6,50,12,"value"],[38,11,50,12],[38,13,52,2],[38,22,52,2,"stop"],[38,26,52,6,"stop"],[38,27,52,6],[38,29,52,15],[39,8,53,4],[39,12,53,8],[39,16,53,12],[39,17,53,13,"_nativeId"],[39,26,53,22],[39,28,53,24],[40,10,54,6,"NativeAnimatedHelper"],[40,39,54,26],[40,40,54,27,"API"],[40,43,54,30],[40,44,54,31,"stopAnimation"],[40,57,54,44],[40,58,54,45],[40,62,54,49],[40,63,54,50,"_nativeId"],[40,72,54,59],[40,73,54,60],[41,8,55,4],[42,6,56,2],[43,4,56,3],[44,6,56,3,"key"],[44,9,56,3],[45,6,56,3,"value"],[45,11,56,3],[45,13,58,2],[45,22,58,2,"__getNativeAnimationConfig"],[45,48,58,28,"__getNativeAnimationConfig"],[45,49,58,28],[45,51,58,36],[46,8,59,4],[47,8,60,4],[48,8,61,4],[48,14,61,10],[48,18,61,14,"Error"],[48,23,61,19],[48,24,61,20],[48,75,61,71],[48,76,61,72],[49,6,62,2],[51,6,64,2],[52,4,64,2],[53,6,64,2,"key"],[53,9,64,2],[54,6,64,2,"value"],[54,11,64,2],[54,13,65,2],[54,22,65,2,"__debouncedOnEnd"],[54,38,65,18,"__debouncedOnEnd"],[54,39,65,19,"result"],[54,45,65,36],[54,47,65,44],[55,8,66,4],[55,12,66,10,"onEnd"],[55,17,66,15],[55,20,66,18],[55,24,66,22],[55,25,66,23,"__onEnd"],[55,32,66,30],[56,8,67,4],[56,12,67,8],[56,13,67,9,"__onEnd"],[56,20,67,16],[56,23,67,19],[56,27,67,23],[57,8,68,4,"onEnd"],[57,13,68,9],[57,17,68,13,"onEnd"],[57,22,68,18],[57,23,68,19,"result"],[57,29,68,25],[57,30,68,26],[58,6,69,2],[59,4,69,3],[60,6,69,3,"key"],[60,9,69,3],[61,6,69,3,"value"],[61,11,69,3],[61,13,71,2],[61,22,71,2,"__findAnimatedPropsNodes"],[61,46,71,26,"__findAnimatedPropsNodes"],[61,47,71,27,"node"],[61,51,71,45],[61,53,71,69],[62,8,72,4],[62,12,72,10,"result"],[62,18,72,16],[62,21,72,19],[62,23,72,21],[63,8,74,4],[63,12,74,8,"node"],[63,16,74,12],[63,28,74,24,"AnimatedProps"],[63,50,74,37],[63,52,74,39],[64,10,75,6,"result"],[64,16,75,12],[64,17,75,13,"push"],[64,21,75,17],[64,22,75,18,"node"],[64,26,75,22],[64,27,75,23],[65,10,76,6],[65,17,76,13,"result"],[65,23,76,19],[66,8,77,4],[67,8,79,4],[67,13,79,9],[67,17,79,15,"child"],[67,22,79,20],[67,26,79,24,"node"],[67,30,79,28],[67,31,79,29,"__getChildren"],[67,44,79,42],[67,45,79,43],[67,46,79,44],[67,48,79,46],[68,10,80,6,"result"],[68,16,80,12],[68,17,80,13,"push"],[68,21,80,17],[68,22,80,17,"apply"],[68,27,80,17],[68,28,80,6,"result"],[68,34,80,12],[68,40,80,12,"_toConsumableArray2"],[68,59,80,12],[68,60,80,12,"default"],[68,67,80,12],[68,69,80,21],[68,73,80,25],[68,74,80,26,"__findAnimatedPropsNodes"],[68,98,80,50],[68,99,80,51,"child"],[68,104,80,56],[68,105,80,57],[68,107,80,58],[69,8,81,4],[70,8,83,4],[70,15,83,11,"result"],[70,21,83,17],[71,6,84,2],[72,4,84,3],[73,6,84,3,"key"],[73,9,84,3],[74,6,84,3,"value"],[74,11,84,3],[74,13,86,2],[74,22,86,2,"__startNativeAnimation"],[74,44,86,24,"__startNativeAnimation"],[74,45,86,25,"animatedValue"],[74,58,86,53],[74,60,86,61],[75,8,86,61],[75,12,86,61,"_this"],[75,17,86,61],[76,8,87,4],[76,12,87,10,"startNativeAnimationWaitId"],[76,38,87,36],[76,41,87,39],[76,44,87,42,"startNativeAnimationNextId"],[76,70,87,68],[76,87,87,85],[77,8,88,4,"startNativeAnimationNextId"],[77,34,88,30],[77,38,88,34],[77,39,88,35],[78,8,89,4,"NativeAnimatedHelper"],[78,37,89,24],[78,38,89,25,"API"],[78,41,89,28],[78,42,89,29,"setWaitingForIdentifier"],[78,65,89,52],[78,66,90,6,"startNativeAnimationWaitId"],[78,92,91,4],[78,93,91,5],[79,8,92,4],[79,12,92,8],[80,10,93,6],[80,14,93,12,"config"],[80,20,93,18],[80,23,93,21],[80,27,93,25],[80,28,93,26,"__getNativeAnimationConfig"],[80,54,93,52],[80,55,93,53],[80,56,93,54],[81,10,94,6,"animatedValue"],[81,23,94,19],[81,24,94,20,"__makeNative"],[81,36,94,32],[81,37,94,33,"config"],[81,43,94,39],[81,44,94,40,"platformConfig"],[81,58,94,54],[81,59,94,55],[82,10,95,6],[82,14,95,10],[82,15,95,11,"_nativeId"],[82,24,95,20],[82,27,95,23,"NativeAnimatedHelper"],[82,56,95,43],[82,57,95,44,"generateNewAnimationId"],[82,79,95,66],[82,80,95,67],[82,81,95,68],[83,10,96,6,"NativeAnimatedHelper"],[83,39,96,26],[83,40,96,27,"API"],[83,43,96,30],[83,44,96,31,"startAnimatingNode"],[83,62,96,49],[83,63,97,8],[83,67,97,12],[83,68,97,13,"_nativeId"],[83,77,97,22],[83,79,98,8,"animatedValue"],[83,92,98,21],[83,93,98,22,"__getNativeTag"],[83,107,98,36],[83,108,98,37],[83,109,98,38],[83,111,99,8,"config"],[83,117,99,14],[83,119,100,8],[83,129,100,8,"result"],[83,135,100,14],[83,137,100,18],[84,12,101,10,"_this"],[84,17,101,14],[84,18,101,15,"__debouncedOnEnd"],[84,34,101,31],[84,35,101,32,"result"],[84,41,101,38],[84,42,101,39],[86,12,103,10],[87,12,104,10],[88,12,105,10],[89,12,106,10],[89,16,106,17,"value"],[89,21,106,22],[89,24,106,26,"result"],[89,30,106,32],[89,31,106,17,"value"],[89,36,106,22],[90,12,107,10],[90,16,107,14,"value"],[90,21,107,19],[90,25,107,23],[90,29,107,27],[90,31,107,29],[91,14,108,12,"animatedValue"],[91,27,108,25],[91,28,108,26,"__onAnimatedValueUpdateReceived"],[91,59,108,57],[91,60,108,58,"value"],[91,65,108,63],[91,66,108,64],[93,14,110,12],[94,14,111,12],[95,14,112,12,"_this"],[95,19,112,16],[95,20,112,17,"__findAnimatedPropsNodes"],[95,44,112,41],[95,45,112,42,"animatedValue"],[95,58,112,55],[95,59,112,56],[95,60,112,57,"forEach"],[95,67,112,64],[95,68,112,65],[95,78,112,65,"node"],[95,82,112,69],[96,16,112,69],[96,23,113,14,"node"],[96,27,113,18],[96,28,113,19,"update"],[96,34,113,25],[96,35,113,26],[96,36,113,27],[97,14,113,27],[97,15,114,12],[97,16,114,13],[98,12,115,10],[99,10,116,8],[99,11,117,6],[99,12,117,7],[100,8,118,4],[100,9,118,5],[100,10,118,6],[100,17,118,13,"e"],[100,18,118,14],[100,20,118,16],[101,10,119,6],[101,16,119,12,"e"],[101,17,119,13],[102,8,120,4],[102,9,120,5],[102,18,120,14],[103,10,121,6,"NativeAnimatedHelper"],[103,39,121,26],[103,40,121,27,"API"],[103,43,121,30],[103,44,121,31,"unsetWaitingForIdentifier"],[103,69,121,56],[103,70,122,8,"startNativeAnimationWaitId"],[103,96,123,6],[103,97,123,7],[104,8,124,4],[105,6,125,2],[106,4,125,3],[107,2,125,3],[108,0,125,3],[108,3]],"functionMap":{"names":["<global>","Animation","start","stop","__getNativeAnimationConfig","__debouncedOnEnd","__findAnimatedPropsNodes","__startNativeAnimation","NativeAnimatedHelper.API.startAnimatingNode$argument_3","__findAnimatedPropsNodes.forEach$argument_0"],"mappings":"AAA;eCmC;ECQ;YDM;EEE;GFI;EGE;GHI;EIG;GJI;EKE;GLa;EME;QCc;iECY;2BDC;SDG;GNS;CDC"}},"type":"js/module"}]}