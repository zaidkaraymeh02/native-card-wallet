{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":74,"column":0,"index":2434}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":31,"index":97}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationContext","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":99},"end":{"line":4,"column":52,"index":151}}],"key":"zgSDczcMDbcgKjO1DngU1GAHQtI="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useFocusEvents;\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[1], \"react\"));\n  var _NavigationContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"./NavigationContext\"));\n  function _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\n  function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n  /**\n   * Hook to take care of emitting `focus` and `blur` events.\n   */\n  function useFocusEvents(_ref) {\n    var state = _ref.state,\n      emitter = _ref.emitter;\n    var navigation = React.useContext(_NavigationContext.default);\n    var lastFocusedKeyRef = React.useRef();\n    var currentFocusedKey = state.routes[state.index].key;\n\n    // When the parent screen changes its focus state, we also need to change child's focus\n    // Coz the child screen can't be focused if the parent screen is out of focus\n    React.useEffect(function () {\n      return navigation == null ? void 0 : navigation.addListener('focus', function () {\n        lastFocusedKeyRef.current = currentFocusedKey;\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n    React.useEffect(function () {\n      return navigation == null ? void 0 : navigation.addListener('blur', function () {\n        lastFocusedKeyRef.current = undefined;\n        emitter.emit({\n          type: 'blur',\n          target: currentFocusedKey\n        });\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n    React.useEffect(function () {\n      var lastFocusedKey = lastFocusedKeyRef.current;\n      lastFocusedKeyRef.current = currentFocusedKey;\n\n      // We wouldn't have `lastFocusedKey` on initial mount\n      // Fire focus event for the current route on mount if there's no parent navigator\n      if (lastFocusedKey === undefined && !navigation) {\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      }\n\n      // We should only emit events when the focused key changed and navigator is focused\n      // When navigator is not focused, screens inside shouldn't receive focused status either\n      if (lastFocusedKey === currentFocusedKey || !(navigation ? navigation.isFocused() : true)) {\n        return;\n      }\n      if (lastFocusedKey === undefined) {\n        // Only fire events after initial mount\n        return;\n      }\n      emitter.emit({\n        type: 'blur',\n        target: lastFocusedKey\n      });\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n  }\n});","lineCount":73,"map":[[7,2,2,0],[7,6,2,0,"React"],[7,11,2,0],[7,14,2,0,"_interopRequireWildcard"],[7,37,2,0],[7,38,2,0,"_$$_REQUIRE"],[7,49,2,0],[7,50,2,0,"_dependencyMap"],[7,64,2,0],[8,2,4,0],[8,6,4,0,"_NavigationContext"],[8,24,4,0],[8,27,4,0,"_interopRequireDefault"],[8,49,4,0],[8,50,4,0,"_$$_REQUIRE"],[8,61,4,0],[8,62,4,0,"_dependencyMap"],[8,76,4,0],[9,2,4,52],[9,11,4,52,"_getRequireWildcardCache"],[9,36,4,52,"e"],[9,37,4,52],[9,66,4,52,"WeakMap"],[9,73,4,52],[9,92,4,52,"r"],[9,93,4,52],[9,100,4,52,"WeakMap"],[9,107,4,52],[9,111,4,52,"t"],[9,112,4,52],[9,119,4,52,"WeakMap"],[9,126,4,52],[9,138,4,52,"_getRequireWildcardCache"],[9,162,4,52],[9,174,4,52,"_getRequireWildcardCache"],[9,199,4,52,"e"],[9,200,4,52],[9,211,4,52,"e"],[9,212,4,52],[9,215,4,52,"t"],[9,216,4,52],[9,219,4,52,"r"],[9,220,4,52],[9,225,4,52,"e"],[9,226,4,52],[10,2,4,52],[10,11,4,52,"_interopRequireWildcard"],[10,35,4,52,"e"],[10,36,4,52],[10,38,4,52,"r"],[10,39,4,52],[10,48,4,52,"r"],[10,49,4,52],[10,53,4,52,"e"],[10,54,4,52],[10,58,4,52,"e"],[10,59,4,52],[10,60,4,52,"__esModule"],[10,70,4,52],[10,79,4,52,"e"],[10,80,4,52],[10,95,4,52,"e"],[10,96,4,52],[10,119,4,52,"e"],[10,120,4,52],[10,145,4,52,"e"],[10,146,4,52],[10,157,4,52,"default"],[10,164,4,52],[10,166,4,52,"e"],[10,167,4,52],[10,175,4,52,"t"],[10,176,4,52],[10,179,4,52,"_getRequireWildcardCache"],[10,203,4,52],[10,204,4,52,"r"],[10,205,4,52],[10,212,4,52,"t"],[10,213,4,52],[10,217,4,52,"t"],[10,218,4,52],[10,219,4,52,"has"],[10,222,4,52],[10,223,4,52,"e"],[10,224,4,52],[10,234,4,52,"t"],[10,235,4,52],[10,236,4,52,"get"],[10,239,4,52],[10,240,4,52,"e"],[10,241,4,52],[10,248,4,52,"n"],[10,249,4,52],[10,254,4,52,"__proto__"],[10,263,4,52],[10,273,4,52,"a"],[10,274,4,52],[10,277,4,52,"Object"],[10,283,4,52],[10,284,4,52,"defineProperty"],[10,298,4,52],[10,302,4,52,"Object"],[10,308,4,52],[10,309,4,52,"getOwnPropertyDescriptor"],[10,333,4,52],[10,344,4,52,"u"],[10,345,4,52],[10,349,4,52,"e"],[10,350,4,52],[10,370,4,52,"u"],[10,371,4,52],[10,378,4,52,"hasOwnProperty"],[10,392,4,52],[10,393,4,52,"call"],[10,397,4,52],[10,398,4,52,"e"],[10,399,4,52],[10,401,4,52,"u"],[10,402,4,52],[10,411,4,52,"i"],[10,412,4,52],[10,415,4,52,"a"],[10,416,4,52],[10,419,4,52,"Object"],[10,425,4,52],[10,426,4,52,"getOwnPropertyDescriptor"],[10,450,4,52],[10,451,4,52,"e"],[10,452,4,52],[10,454,4,52,"u"],[10,455,4,52],[10,465,4,52,"i"],[10,466,4,52],[10,471,4,52,"i"],[10,472,4,52],[10,473,4,52,"get"],[10,476,4,52],[10,480,4,52,"i"],[10,481,4,52],[10,482,4,52,"set"],[10,485,4,52],[10,489,4,52,"Object"],[10,495,4,52],[10,496,4,52,"defineProperty"],[10,510,4,52],[10,511,4,52,"n"],[10,512,4,52],[10,514,4,52,"u"],[10,515,4,52],[10,517,4,52,"i"],[10,518,4,52],[10,522,4,52,"n"],[10,523,4,52],[10,524,4,52,"u"],[10,525,4,52],[10,529,4,52,"e"],[10,530,4,52],[10,531,4,52,"u"],[10,532,4,52],[10,544,4,52,"n"],[10,545,4,52],[10,546,4,52,"default"],[10,553,4,52],[10,556,4,52,"e"],[10,557,4,52],[10,559,4,52,"t"],[10,560,4,52],[10,564,4,52,"t"],[10,565,4,52],[10,566,4,52,"set"],[10,569,4,52],[10,570,4,52,"e"],[10,571,4,52],[10,573,4,52,"n"],[10,574,4,52],[10,577,4,52,"n"],[10,578,4,52],[11,2,13,0],[12,0,14,0],[13,0,15,0],[14,2,16,15],[14,11,16,24,"useFocusEvents"],[14,25,16,38,"useFocusEvents"],[14,26,16,38,"_ref"],[14,30,16,38],[14,32,19,19],[15,4,19,19],[15,8,17,2,"state"],[15,13,17,7],[15,16,17,7,"_ref"],[15,20,17,7],[15,21,17,2,"state"],[15,26,17,7],[16,6,18,2,"emitter"],[16,13,18,9],[16,16,18,9,"_ref"],[16,20,18,9],[16,21,18,2,"emitter"],[16,28,18,9],[17,4,20,2],[17,8,20,8,"navigation"],[17,18,20,18],[17,21,20,21,"React"],[17,26,20,26],[17,27,20,27,"useContext"],[17,37,20,37],[17,38,20,38,"NavigationContext"],[17,64,20,55],[17,65,20,56],[18,4,21,2],[18,8,21,8,"lastFocusedKeyRef"],[18,25,21,25],[18,28,21,28,"React"],[18,33,21,33],[18,34,21,34,"useRef"],[18,40,21,40],[18,41,21,61],[18,42,21,62],[19,4,23,2],[19,8,23,8,"currentFocusedKey"],[19,25,23,25],[19,28,23,28,"state"],[19,33,23,33],[19,34,23,34,"routes"],[19,40,23,40],[19,41,23,41,"state"],[19,46,23,46],[19,47,23,47,"index"],[19,52,23,52],[19,53,23,53],[19,54,23,54,"key"],[19,57,23,57],[21,4,25,2],[22,4,26,2],[23,4,27,2,"React"],[23,9,27,7],[23,10,27,8,"useEffect"],[23,19,27,17],[23,20,28,4],[24,6,28,4],[24,13,29,6,"navigation"],[24,23,29,16],[24,43,29,6,"navigation"],[24,53,29,16],[24,54,29,18,"addListener"],[24,65,29,29],[24,66,29,30],[24,73,29,37],[24,75,29,39],[24,87,29,45],[25,8,30,8,"lastFocusedKeyRef"],[25,25,30,25],[25,26,30,26,"current"],[25,33,30,33],[25,36,30,36,"currentFocusedKey"],[25,53,30,53],[26,8,31,8,"emitter"],[26,15,31,15],[26,16,31,16,"emit"],[26,20,31,20],[26,21,31,21],[27,10,31,23,"type"],[27,14,31,27],[27,16,31,29],[27,23,31,36],[28,10,31,38,"target"],[28,16,31,44],[28,18,31,46,"currentFocusedKey"],[29,8,31,64],[29,9,31,65],[29,10,31,66],[30,6,32,6],[30,7,32,7],[30,8,32,8],[31,4,32,8],[31,7,33,4],[31,8,33,5,"currentFocusedKey"],[31,25,33,22],[31,27,33,24,"emitter"],[31,34,33,31],[31,36,33,33,"navigation"],[31,46,33,43],[31,47,34,2],[31,48,34,3],[32,4,36,2,"React"],[32,9,36,7],[32,10,36,8,"useEffect"],[32,19,36,17],[32,20,37,4],[33,6,37,4],[33,13,38,6,"navigation"],[33,23,38,16],[33,43,38,6,"navigation"],[33,53,38,16],[33,54,38,18,"addListener"],[33,65,38,29],[33,66,38,30],[33,72,38,36],[33,74,38,38],[33,86,38,44],[34,8,39,8,"lastFocusedKeyRef"],[34,25,39,25],[34,26,39,26,"current"],[34,33,39,33],[34,36,39,36,"undefined"],[34,45,39,45],[35,8,40,8,"emitter"],[35,15,40,15],[35,16,40,16,"emit"],[35,20,40,20],[35,21,40,21],[36,10,40,23,"type"],[36,14,40,27],[36,16,40,29],[36,22,40,35],[37,10,40,37,"target"],[37,16,40,43],[37,18,40,45,"currentFocusedKey"],[38,8,40,63],[38,9,40,64],[38,10,40,65],[39,6,41,6],[39,7,41,7],[39,8,41,8],[40,4,41,8],[40,7,42,4],[40,8,42,5,"currentFocusedKey"],[40,25,42,22],[40,27,42,24,"emitter"],[40,34,42,31],[40,36,42,33,"navigation"],[40,46,42,43],[40,47,43,2],[40,48,43,3],[41,4,45,2,"React"],[41,9,45,7],[41,10,45,8,"useEffect"],[41,19,45,17],[41,20,45,18],[41,32,45,24],[42,6,46,4],[42,10,46,10,"lastFocusedKey"],[42,24,46,24],[42,27,46,27,"lastFocusedKeyRef"],[42,44,46,44],[42,45,46,45,"current"],[42,52,46,52],[43,6,48,4,"lastFocusedKeyRef"],[43,23,48,21],[43,24,48,22,"current"],[43,31,48,29],[43,34,48,32,"currentFocusedKey"],[43,51,48,49],[45,6,50,4],[46,6,51,4],[47,6,52,4],[47,10,52,8,"lastFocusedKey"],[47,24,52,22],[47,29,52,27,"undefined"],[47,38,52,36],[47,42,52,40],[47,43,52,41,"navigation"],[47,53,52,51],[47,55,52,53],[48,8,53,6,"emitter"],[48,15,53,13],[48,16,53,14,"emit"],[48,20,53,18],[48,21,53,19],[49,10,53,21,"type"],[49,14,53,25],[49,16,53,27],[49,23,53,34],[50,10,53,36,"target"],[50,16,53,42],[50,18,53,44,"currentFocusedKey"],[51,8,53,62],[51,9,53,63],[51,10,53,64],[52,6,54,4],[54,6,56,4],[55,6,57,4],[56,6,58,4],[56,10,59,6,"lastFocusedKey"],[56,24,59,20],[56,29,59,25,"currentFocusedKey"],[56,46,59,42],[56,50,60,6],[56,52,60,8,"navigation"],[56,62,60,18],[56,65,60,21,"navigation"],[56,75,60,31],[56,76,60,32,"isFocused"],[56,85,60,41],[56,86,60,42],[56,87,60,43],[56,90,60,46],[56,94,60,50],[56,95,60,51],[56,97,61,6],[57,8,62,6],[58,6,63,4],[59,6,65,4],[59,10,65,8,"lastFocusedKey"],[59,24,65,22],[59,29,65,27,"undefined"],[59,38,65,36],[59,40,65,38],[60,8,66,6],[61,8,67,6],[62,6,68,4],[63,6,70,4,"emitter"],[63,13,70,11],[63,14,70,12,"emit"],[63,18,70,16],[63,19,70,17],[64,8,70,19,"type"],[64,12,70,23],[64,14,70,25],[64,20,70,31],[65,8,70,33,"target"],[65,14,70,39],[65,16,70,41,"lastFocusedKey"],[66,6,70,56],[66,7,70,57],[66,8,70,58],[67,6,71,4,"emitter"],[67,13,71,11],[67,14,71,12,"emit"],[67,18,71,16],[67,19,71,17],[68,8,71,19,"type"],[68,12,71,23],[68,14,71,25],[68,21,71,32],[69,8,71,34,"target"],[69,14,71,40],[69,16,71,42,"currentFocusedKey"],[70,6,71,60],[70,7,71,61],[70,8,71,62],[71,4,72,2],[71,5,72,3],[71,7,72,5],[71,8,72,6,"currentFocusedKey"],[71,25,72,23],[71,27,72,25,"emitter"],[71,34,72,32],[71,36,72,34,"navigation"],[71,46,72,44],[71,47,72,45],[71,48,72,46],[72,2,73,0],[73,0,73,1],[73,3]],"functionMap":{"names":["<global>","useFocusEvents","React.useEffect$argument_0","navigation.addListener$argument_1"],"mappings":"AAA;eCe;ICY;uCCC;ODG,CD;ICK;sCCC;ODG,CD;kBCI;GD2B;CDC"}},"type":"js/module"}]}